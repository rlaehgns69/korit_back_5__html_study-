"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6139],{10497:function(e,n,t){var o=t(52983),i=function(e,n){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},r=function(){return!1},a=function(e){if(!r()){var n=e.clientId,t=e.callbackUrl,o=e.onSuccess,i=e.onFailure,a=window.naver,l=new a.LoginWithNaverId({callbackUrl:t,clientId:n,isPopup:!0,loginButton:{color:"green",type:3,height:60}});l.init(),window.opener?l.getLoginStatus(function(e){var n,t;e?("function"!=typeof(null===(n=window.opener.naver)||void 0===n?void 0:n.successCallback)&&(window.opener.naver.successCallback=function(e){return o(e)}),window.opener.naver.successCallback(l)):("function"!=typeof(null===(t=window.opener.naver)||void 0===t?void 0:t.failureCallback)&&(window.opener.naver.failureCallback=function(e){return i(e)}),window.opener.naver.failureCallback(e)),window.close()}):(a.successCallback=function(e){return o(e)},a.failureCallback=function(e){return i(e)})}},l=function(){if(document){var e=document.querySelectorAll("#naverIdLogin");e&&e.forEach(e=>e.remove());var n=document.createElement("div");n.id="naverIdLogin",n.style.position="absolute",n.style.top="-10000px",document.body.appendChild(n)}},s=function(e){if(document){var n=document.querySelectorAll("#naver-login-sdk");n.length>0&&n.forEach(e=>e.remove());var t=document.createElement("script");t.id="naver-login-sdk",t.src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2-nopolyfill.js",t.onload=function(){return a(e)},document.head.appendChild(t)}},c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return!function(e,n){function t(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}(n,e),n.prototype.componentDidMount=function(){l(),r()||s(this.props)},n.prototype.render=function(){return(0,this.props.render)({onClick:function(){if(document&&document.querySelector("#naverIdLogin").firstChild){var e=document.querySelector("#naverIdLogin").firstChild;e.href="javascript:;",e.click()}}})},n}(o.Component);n.Z=c},57623:function(e,n,t){t.d(n,{Z:function(){return D}});var o=t(67911),i=t(97458),r=t(11044),a=t(1);let l=e=>{let{isDefaultStyle:n,onSuccess:t,onFail:o}=e;return(0,i.jsx)(r.ZP,{authOptions:{clientId:"com.wrtn.client",scope:"email name",redirectURI:"https://wrtn.ai",responseType:"code",usePopup:!0},onSuccess:t,onError:o,buttonExtraChildren:"Apple 아이디로 시작하기",style:{height:"38px",fontSize:"0.875rem",fontWeight:600},render:e=>n?void 0:(0,i.jsx)(a.LZA,{onClick:()=>e.onClick()})})};var s=t(43727),c=t(38388),u=t.n(c),d=t(87387);function p(){let e=(0,s._)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 48px;\n  cursor: pointer;\n  background: ",";\n  height: 38px;\n  border-radius: 5px;\n  width: 300px;\n  max-width: 400px;\n  min-width: 200px;\n  padding: 0px 25px;\n  cursor: pointer;\n  ",";\n  color: ",";\n  ",";\n\n  @media (max-width: 480px) {\n    font-size: 14px;\n  }\n"]);return p=function(){return e},e}function f(){let e=(0,s._)(["\n  border: 1px solid #dee4f3;\n"]);return f=function(){return e},e}let g=e=>{let{onClick:n,text:t="Cafe24 계정으로 시작하기"}=e;return(0,i.jsxs)(m,{type:"local",onClick:n,children:[(0,i.jsx)(a.haR,{width:"17",height:"17"}),t]})},h=u().a.withConfig({componentId:"sc-cdf157be-0"})(p(),d.O9.WHITE,(0,d.f3)({weight:600,size:"14px",height:"100%"}),d.O9.GRAY_700,d.Wn.login_box_shadow),m=u()(h).withConfig({componentId:"sc-cdf157be-1"})(f());var v=t(52983);function k(){let e=(0,s._)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 48px;\n  cursor: pointer;\n  background: ",";\n  height: 38px;\n  border-radius: 5px;\n  width: 300px;\n  max-width: 400px;\n  min-width: 200px;\n  padding: 0px 25px;\n  cursor: pointer;\n  ",";\n  color: ",";\n\n  @media (max-width: 480px) {\n    font-size: 14px;\n  }\n"]);return k=function(){return e},e}let w=()=>new Promise(e=>{let n=document.createElement("script");n.id="kakao-sdk",n.src="//developers.kakao.com/sdk/js/kakao.min.js",n.onload=e,document.body.append(n)}),_=e=>{let{throughTalk:n=!0,persistAccessToken:t=!0,needProfile:o=!0,useLoginForm:r=!1,onSuccess:l,onFail:s,onLogout:c,render:u,className:d=""}=e,[p,f]=v.useState(!1);v.useEffect(()=>{(async()=>{var e;await w(),null===(e=window.Kakao)||void 0===e||e.init("1a46f08d916c3f63913205110dc509ab")})()},[]);let g=()=>{var e,i,a;null===(i=e=null===(a=window.Kakao)||void 0===a?void 0:a.Auth[r?"loginForm":"login"])||void 0===i||i.call(e,{throughTalk:n,persistAccessToken:t,success:e=>{if(f(!0),o){var n;null===(n=window.Kakao)||void 0===n||n.API.request({url:"/v2/user/me",success:n=>{l({response:e,profile:n})},fail:s})}else l({response:e})},fail:s})},h=()=>{var e;null===(e=window.Kakao)||void 0===e||e.Auth.logout(()=>{var e;null==c||c(null===(e=window.Kakao)||void 0===e?void 0:e.Auth.getAccessToken()),f(!1)})},m=p?h:g;return"function"==typeof u?u({onClick:m}):(0,i.jsxs)(y,{className:d,onClick:m,children:[(0,i.jsx)(a.$7D,{width:"17",height:"17"}),"카카오 아이디로 시작하기"]})},x=e=>(0,i.jsx)(_,{...e,render:e=>(0,i.jsx)(a.Q5N,{...e})}),y=u().a.withConfig({componentId:"sc-1302fe39-0"})(k(),d.O9.BRAND_KAKAO_MAIN,(0,d.f3)({weight:600,size:"14px",height:"100%"}),d.O9.GRAY_700);function b(){let e=(0,s._)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 48px;\n  cursor: pointer;\n  background: ",";\n  height: 38px;\n  border-radius: 5px;\n  width: 300px;\n  max-width: 400px;\n  min-width: 200px;\n  padding: 0px 25px;\n  cursor: pointer;\n  ",";\n  color: ",";\n  ",";\n\n  @media (max-width: 480px) {\n    font-size: 14px;\n  }\n"]);return b=function(){return e},e}function C(){let e=(0,s._)(["\n  border: 1px solid #dee4f3;\n"]);return C=function(){return e},e}let S=e=>{let{onClick:n,text:t="뤼튼 계정으로 시작하기"}=e;return(0,i.jsxs)(I,{type:"local",onClick:n,children:[(0,i.jsx)(a.haR,{width:"17",height:"17"}),t]})},j=u().a.withConfig({componentId:"sc-c4c8a44c-0"})(b(),d.O9.WHITE,(0,d.f3)({weight:600,size:"14px",height:"100%"}),d.O9.GRAY_700,d.Wn.login_box_shadow),I=u()(j).withConfig({componentId:"sc-c4c8a44c-1"})(C());var A=t(10497);function R(){let e=(0,s._)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 48px;\n  cursor: pointer;\n  background: ",";\n  height: 38px;\n  border-radius: 5px;\n  width: 300px;\n  max-width: 400px;\n  min-width: 200px;\n  padding: 0px 25px;\n  cursor: pointer;\n  ",";\n  color: ",";\n\n  @media (max-width: 480px) {\n    font-size: 14px;\n  }\n"]);return R=function(){return e},e}let O="OlMCIRvqpKMhnokbV8ar",H=e=>{let{onSuccess:n,onFailure:t,callbackUrl:o}=e;return(0,i.jsx)(A.Z,{clientId:O,callbackUrl:o,onSuccess:n,onFailure:t,isSignedIn:!0,render:e=>(0,i.jsxs)(L,{onClick:()=>e.onClick(),type:"naver",children:[(0,i.jsx)(a.N75,{width:"14",height:"14"}),"네이버 아이디로 시작하기"]})})},N=e=>{let{onSuccess:n,onFailure:t,callbackUrl:o}=e;return(0,i.jsx)(A.Z,{clientId:O,callbackUrl:o,onSuccess:n,onFailure:t,isSignedIn:!0,render:e=>(0,i.jsx)(a.H7M,{onClick:()=>e.onClick()})})},L=u().a.withConfig({componentId:"sc-9913a2b7-0"})(R(),d.O9.BRAND_NAVER_MAIN,(0,d.f3)({weight:600,size:"14px",height:"100%"}),d.O9.WHITE),M={};M.Kakao=_,M.KakaoRound=x,M.Naver=H,M.NaverRound=N,M.Google=o.kZ,M.Local=S,M.Cafe24=g,M.Apple=l;var D=M},69032:function(e,n,t){t.d(n,{o:function(){return o}});let o={accessToken:"access_token",refreshToken:"refresh_token",deviceId:"_deviceId",ga:"_ga"}},22996:function(e,n,t){t.d(n,{ei:function(){return r},T$:function(){return a},zR:function(){return l},et:function(){return s},oY:function(){return i.o},Hb:function(){return o.H}});var o=t(2232),i=t(69032);let r=180,a="",l="인증번호가 만료되었어요.",s={chatInput:"chat_input",agentDailyKeywordNewsForm:"agent_daily_keyword_news_form",storeToolForm:"store_tool_form",storeChatInput:"store_chat_input"}},2232:function(e,n,t){t.d(n,{H:function(){return o}});let o={login:{index:()=>"/login",desktop:{index:()=>"/login/desktop",success:()=>"/login/desktop/success"},social:{google:()=>"/login",kakao:()=>"/login",naver:()=>"/login"},local:{index:()=>"/login/wrtn",cert:()=>"/login/wrtn/cert",signin:()=>"/login/wrtn/signIn",signup:()=>"/login/wrtn/signUp"},find:{password:()=>"/login/find/password",email:()=>"/login/find/email",reset:()=>"/login/find/reset"}},setting:{account:()=>"/setting/account",history:()=>"/setting/history",invoice:()=>"/setting/invoice",billing:{index:()=>"/setting/billing",success:()=>"/setting/billing/success"}},about:()=>"/about",guide:()=>"/guide",chat:()=>"/",tool:()=>"/tool",logout:()=>"/logout",survey:{index:()=>"/survey"},plugins:()=>"/plugins",store:()=>"/store",share:()=>"/share"}},25294:function(e,n,t){t.d(n,{ob:function(){return l}});var o=t(53628),i=t(52983),r=t(49440),a=t(89566);let l=e=>{let{position:n="modal"}=e,{collectEvent:t}=(0,r.zX9)(),{handleCloseLoginDialog:l}=(0,r.tF5)(),s=(0,o.f)(),c=i.useCallback(async e=>{t("click_start_platform_btn",{platform:"google",position:"modal"}),l();let n=(0,r.igh)(),o=(0,r.XfM)(),i=(0,r.ejW)("_fbc"),c=(0,r.ejW)("_fbp");await s({response:await (0,a.bs)({auth:{token:(null==e?void 0:e.credential)||""},funnel:n,platform:o},{fbc:i,fbp:c}),provider:"google",token:e.credential})},[]),u=i.useCallback(async e=>{let{loginStatus:o}=e;t("click_start_platform_btn",{platform:"naver",position:n}),l();let i=(0,r.igh)(),c=(0,r.XfM)(),u=(0,r.ejW)("_fbc"),d=(0,r.ejW)("_fbp");await s({response:await (0,a.e7)({auth:{token:o.accessToken.accessToken},funnel:i,platform:c},{fbc:u,fbp:d}),provider:"naver"})},[]),d=i.useCallback(async e=>{t("click_start_platform_btn",{platform:"kakao",position:n}),l();let o=(0,r.igh)(),i=(0,r.XfM)(),c=(0,r.ejW)("_fbc"),u=(0,r.ejW)("_fbp");await s({response:await (0,a.wO)({auth:{token:e.response.access_token},funnel:o,platform:i},{fbc:c,fbp:u}),provider:"kakao"})},[]),p=i.useCallback(async e=>{t("click_start_platform_btn",{platform:"apple",position:n}),l();let o=(0,r.igh)(),i=(0,r.XfM)(),c=(0,r.ejW)("_fbc"),u=(0,r.ejW)("_fbp"),d=await (0,a.CF)({auth:{token:e.authorization.id_token},funnel:o,platform:i},{fbc:c,fbp:u});await s({response:d,provider:"apple"})},[]),f=()=>{t("click_start_platform_btn",{platform:"google",position:n})},g=()=>{t("click_start_platform_btn",{platform:"naver",position:n})},h=()=>{t("click_start_platform_btn",{platform:"kakao",position:n})},m=()=>{t("click_start_platform_btn",{platform:"apple",position:n})};return{handleGoogleLoginSuccess:c,handleNaverLoginSuccess:u,handleKakaoLoginSuccess:d,handleAppleLoginSuccess:p,handleGoogleLoginFailure:f,handleNaverLoginFailure:g,handleKakaoLoginFailure:h,handleAppleLoginFailure:m}};t(61603),t(31430),t(22996)},801:function(e,n,t){t.d(n,{x:function(){return m}});var o=t(52983),i=t(61603),r=t(8996),a=t(49440),l=t(31430),s=t(22244),c=t(51168),u=t(22996),d=t(31494),p=t(94),f=t(88471);let g=()=>{let e=()=>{let e=(0,p.getCookie)(u.oY.deviceId),n=(0,p.getCookie)(u.oY.ga);if("string"==typeof e&&e.length>0)return e;let t=new Date,o=n&&("string"!=typeof n||0!==n.length)?n:(0,f.x0)();return t.setFullYear(new Date().getFullYear()+2),(0,p.setCookie)("_deviceId",o),o};return e};var h=t(53628);let m=()=>{let e=(0,i.useRouter)(),[n,t]=(0,r.useRecoilState)(d.NJ),[p,f]=(0,r.useRecoilState)(d.A$),[m,v]=(0,r.useRecoilState)(d.N7),[k]=(0,r.useRecoilState)(d.we),w=(0,r.useSetRecoilState)(s.j0),{collectEvent:_}=(0,l.zX)(),{sendAirbridgeEvent:x}=(0,l.lM)(),y=(0,r.useSetRecoilState)(s.Pc),b=(0,r.useSetRecoilState)(s.s$),C=g(),S=(0,h.f)(),j=()=>{D(),e.push(u.Hb.login.find.email())},I=()=>{w(null),_("click_start_platform_btn",{platform:"wrtn",position:"login"}),e.push(u.Hb.login.local.index())},A=()=>{D(),e.push(u.Hb.login.find.password())},R=()=>{e.push(u.Hb.login.find.reset())},O=()=>{e.push(u.Hb.login.local.signin())},H=()=>{e.push(u.Hb.login.local.cert())},N=()=>{},L=()=>{e.push(u.Hb.login.local.signup())},M=()=>{e.push(u.Hb.chat()),D()},D=()=>{t(""),f("")},W=e=>{t(e)},T=e=>{f(e)},E=e=>{v(e)},P=o.useMemo(()=>c.LD.test(n),[n]),F=o.useMemo(()=>c.hS.test(p),[p]),z=o.useMemo(()=>P&&F,[P,F]),K=async()=>{let e=C(),n=(0,a.igh)(),t=(0,a.XfM)(),o=(0,c.ej)("_fbc"),i=(0,c.ej)("_fbp"),r=await (0,a.OLU)({email:k.email,password:k.password},e,n,t,{fbc:o,fbp:i});if(201===r.status){var l,s,u,d,p,f;if("object"==typeof r.data.data&&(null===(l=null==r?void 0:r.data.data)||void 0===l?void 0:l.provider)&&(null===(f=null==r?void 0:r.data.data)||void 0===f?void 0:f.type)==="expired"){b({email:r.data.data.email,provider:r.data.data.provider});return}_("temp_signup_test",{provider:null==r?void 0:null===(s=r.data)||void 0===s?void 0:null===(u=s.data)||void 0===u?void 0:u.provider}),x("temp_signup_test",{customAttributes:{provider:null==r?void 0:null===(d=r.data)||void 0===d?void 0:null===(p=d.data)||void 0===p?void 0:p.provider}});let e=await (0,a.n1Q)({email:k.email,password:k.password});S({response:e,provider:"local",callback:()=>{}})}else 409===r.status&&y({provider:"local"})};return{handleRegister:K,handleFindEmail:j,handleLoginEmail:I,handleFindPassword:A,handleFindResetPassword:R,handleLoginLogin:O,handleLoginCert:H,handleFindEmailResult:N,handleLoginPassword:L,handleClose:M,handleInit:D,handleChangeEmail:W,handleChangePassword:T,handleChangeProvider:E,open:k.open,section:k.section,email:n,password:p,provider:m,isValidLoginFormat:z,isValidEmailFormat:P,isValidPasswordFormat:F}}},53628:function(e,n,t){t.d(n,{f:function(){return f}});var o=t(94),i=t(27860),r=t.n(i),a=t(61603),l=t(8996),s=t(49440),c=t(49258),u=t(22996),d=t(31494);let p=".wrtn.ai",f=()=>{let e=(0,a.useRouter)(),n=(0,s.tF5)(),t=(0,l.useSetRecoilState)(s.j0i),i=(0,l.useResetRecoilState)(d.NJ),f=(0,l.useResetRecoilState)(d.A$),g=(0,l.useSetRecoilState)(s.Pcn),h=(0,l.useSetRecoilState)(s.s$7),m=(0,s.FG4)(),{collectEvent:v}=(0,s.zX9)(),{sendAirbridgeEvent:k}=(0,s.lM5)(),w=async a=>{let{response:l,provider:d,callback:w}=a;if(l){let{accessToken:a,refreshToken:g,isNewbie:_}=l;if("object"==typeof l&&(null==l?void 0:l.provider)){"expired"===l.type?h({provider:null==l?void 0:l.provider,email:null==l?void 0:l.email}):t({provider:null==l?void 0:l.provider,email:null==l?void 0:l.email,from:d}),w&&w(l.status);return}_&&(v("temp_signup_test",{provider:d}),k("temp_signup_test",{customAttributes:{provider:d}})),(0,o.setCookie)(u.oY.refreshToken,g,{sameSite:"lax",domain:p,expires:r()().add(14,"day").toDate(),path:"/"}),(0,o.setCookie)(u.oY.accessToken,a,{sameSite:"lax",domain:p,expires:r()().add(14,"day").toDate(),path:"/"}),(a||""!==a)&&c.WrtnAccessTokenManager.setToken(a),c.WrtnRefreshTokenManager.setToken(g);try{let t=await (0,s.PRA)();m({event:"newbie_check",data:{user_newbie:null==t?void 0:t.isNewbie}}),v("login_done"),k("airbridge.user.signin",{customAttributes:{user_id:null==t?void 0:t._id}}),i(),f();let o=sessionStorage.getItem("login_app"),r=sessionStorage.getItem("redirect_url");if(r){window.sessionStorage.removeItem("redirect_url"),window.location.assign(r);return}if("dt"===o){e.push(u.Hb.login.desktop.success()),window.sessionStorage.removeItem("login_app");return}(e.pathname===u.Hb.chat()||e.pathname===u.Hb.plugins())&&e.reload();let a=sessionStorage.getItem("pluginPath");"/plugins"===a?(e.push(u.Hb.plugins()),window.sessionStorage.removeItem("pluginPath")):e.push(u.Hb.chat()),n.handleCloseLoginDialog()}catch(e){}}else 409===l.status&&g({provider:d});w&&w(l.status)};return w}},31494:function(e,n,t){t.d(n,{NJ:function(){return a},A$:function(){return l},N7:function(){return s},we:function(){return r}});var o=t(8996),i=t(46666);let r=(0,o.atom)({key:"localLoginState",default:{open:!1,section:i.As,email:"",password:"",provider:"local"}}),a=(0,o.selector)({key:"localLoginEmailState",get:e=>{let{get:n}=e,t=n(r);return t.email},set:(e,n)=>{let{set:t}=e;t(r,e=>n instanceof o.DefaultValue?n:{...e,email:n})}}),l=(0,o.selector)({key:"localLoginPasswordState",get:e=>{let{get:n}=e,t=n(r);return t.password},set:(e,n)=>{let{set:t}=e;t(r,e=>n instanceof o.DefaultValue?n:{...e,password:n})}}),s=(0,o.selector)({key:"localLoginProviderState",get:e=>{let{get:n}=e,t=n(r);return t.provider},set:(e,n)=>{let{set:t}=e;t(r,e=>n instanceof o.DefaultValue?n:{...e,provider:n})}});(0,o.atom)({key:"loginSuccessPathState",default:null}),(0,o.atom)({key:"@app/layout/LNBControllerState",default:{isOpen:!0}}),(0,o.atom)({key:"@app/layout/EventDialogState",default:[{type:"kakao-style-coupon",name:"kakao-style-coupon",path:"/",isOpen:!1,onlyOnce:!0,onlyLogin:!0,associatedFunnelCheck:"kakao-style-50"},{type:"user-survey",name:"user-survey",path:"/",isOpen:!1,onlyOnce:!1,onlyLogin:!0,skipActiveFirstday:!1,closeDay:1,onlyHandler:!0,onlyNonMobileWebBrowser:!0,maximumShowDialog:3},{type:"inducing_mobile_app",name:"inducing_mobile_app",path:"/",exceptPath:[/(^\/$)|(^\/store$)/,"store/details/"],isOpen:!1,onlyOnce:!1,onlyLogin:!0,skipActiveFirstday:!1,closeDay:1,onlyHandler:!0,onlyMobileWebBrowser:!0},{type:"monthly_survey",name:"monthly_survey",path:"/",isOpen:!1,onlyLogin:!0,closeDay:1},{type:"christmas-event",name:"christmas-event",path:/^\/$/,isOpen:!1}]})}}]);
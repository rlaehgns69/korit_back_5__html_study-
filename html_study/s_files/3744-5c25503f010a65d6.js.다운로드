(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3744],{99055:function(n,e,t){"use strict";t.d(e,{i:function(){return h}});var i=t(97458),r=t(52983),o=t(7271),c=t(24191),l=t(27860),s=t.n(l),d=t(61603),a=t(49440);let u="event_dialog",p=()=>{let n=(0,d.useRouter)(),[e,t]=r.useState([]);r.useEffect(()=>{(async()=>{let e=await (0,a.LgA)(a.Zi8.EVENT_MODAL),r=i(),o=e.filter(e=>{var t,i,o;return n.pathname.match((null===(t=e.options)||void 0===t?void 0:t.path)||"")&&!(null===(i=e.options)||void 0===i?void 0:null===(o=i.exceptPath)||void 0===o?void 0:o.some(e=>n.pathname.match(e)))&&!Object.keys(r).includes(e._id)||s()(r[e._id]).isBefore(s()())});t(o)})()},[]);let i=()=>{var n;let e=null!==(n=(0,a.tv0)(u))&&void 0!==n?n:"{}";if("string"!=typeof e)return;let t=JSON.parse(e);return t},o=n=>{t(e=>null==e?void 0:e.filter(e=>e._id!==n))},c=n=>{var t,r;let c=e.find(e=>e._id===n);if(!c)return;let l=i(),d={...l,[n]:s()().add(null!==(r=null==c?void 0:null===(t=c.options)||void 0===t?void 0:t.closeDay)&&void 0!==r?r:3,"day")};(0,a.coT)(u,JSON.stringify(d)),o(n)};return{eventDialogs:e,closeEventDialog:o,closeDayEventDialog:c}},h=n=>{let{children:e}=n,{eventDialogs:t,closeEventDialog:r,closeDayEventDialog:l}=p();return t.length<1?(0,i.jsx)(i.Fragment,{children:e}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.H,{zIndex:100,children:(0,i.jsx)(c.WQ,{eventDialog:t[0],closeEventDialog:()=>r(t[0]._id),closeDayEventDialog:()=>l(t[0]._id)})}),e]})}},81040:function(n,e,t){"use strict";t.d(e,{X8:function(){return T.X},gT:function(){return N},ny:function(){return Y.B},r8:function(){return E.r},Pn:function(){return y},Ty:function(){return Z}}),t(27957);var i=t(43727),r=t(97458),o=t(38388),c=t.n(o),l=t(2754),s=t(80836),d=t(32066),a=t(2440),u=t.n(a),p=t(61603),h=t(42716),x=t(49440),f=t(22996);function g(){let n=(0,i._)(["\n  ",";\n  padding-bottom: 20px;\n"]);return g=function(){return n},n}function m(){let n=(0,i._)(["\n  ","\n"]);return m=function(){return n},n}function w(){let n=(0,i._)(["\n  padding-left: 89px;\n  padding-top: 76px;\n  gap: 28px;\n"]);return w=function(){return n},n}let _=()=>{let n=(0,p.useRouter)(),e=(0,h.useTranslations)(),t=(0,h.useLocale)();return(0,r.jsxs)(v,{column:!0,align:"flex-start",children:[(0,r.jsx)(b,{children:e("setting_lnb.setting")}),(0,r.jsx)(j,{isActive:n.pathname===f.Hb.setting.account(),href:f.Hb.setting.account(),children:e("setting_lnb.account")}),t===x.pS9.ko&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j,{isActive:n.pathname===f.Hb.setting.invoice(),href:f.Hb.setting.invoice(),children:e("setting_lnb.invoice")}),(0,r.jsx)(j,{isActive:n.pathname===f.Hb.setting.history(),href:f.Hb.setting.history(),children:e("setting_lnb.history")})]})]})},b=c().div.withConfig({componentId:"sc-e0702a1d-0"})(g(),(0,l.f3b)({weight:600,size:"24px",height:"100%",color:l.O9T.GRAY_800})),j=c()(u()).withConfig({componentId:"sc-e0702a1d-1"})(m(),n=>n.isActive?"\n    ".concat((0,l.f3b)({weight:700,size:"18px",height:"100%",color:l.O9T.PURPLE_600_BRAND}),"\n  \n  "):"\n    ".concat((0,l.f3b)({weight:500,size:"18px",height:"100%",color:l.O9T.GRAY_600}),"\n  ")),v=c()(l.A09).withConfig({componentId:"sc-e0702a1d-2"})(w());function C(){let n=(0,i._)(["\n  max-width: 235px;\n  width: 235px;\n  left: 0px;\n  position: absolute;\n  height: 100%;\n  border-right: 1.5px solid ",";\n  @media (max-width: 767px) {\n    display: none;\n  }\n"]);return C=function(){return n},n}function I(){let n=(0,i._)(["\n  width: 100%;\n  height: 100%;\n"]);return I=function(){return n},n}function k(){let n=(0,i._)(["\n  width: 100%;\n  height: 100%;\n  padding-left: 235px;\n\n  position: initial;\n  @media (max-width: 767px) {\n    padding-left: 0px;\n  }\n"]);return k=function(){return n},n}let y=n=>{let{children:e}=n,{isOpen:t}=(0,d.H)();return(0,r.jsxs)(R,{children:[(0,r.jsx)(A,{isOpen:t,children:(0,r.jsx)(s.A2,{children:(0,r.jsx)(_,{})})}),(0,r.jsx)(O,{justify:"center",align:"flex-start",isOpen:t,children:e})]})},A=c().div.withConfig({componentId:"sc-7e950a0d-0"})(C(),l.O9T.GRAY_100),R=c()(l.A09).withConfig({componentId:"sc-7e950a0d-1"})(I()),O=c()(l.A09).withConfig({componentId:"sc-7e950a0d-2"})(k());var T=t(20266),Y=t(38732);t(33280);var E=t(28890),P=t(52983),G=t(52068),S=t.n(G),z=t(89603);function U(){let n=(0,i._)(["\n  max-width: 235px;\n  width: 235px;\n  left: ",";\n  position: absolute;\n  height: 100%;\n  transition: left 0.5s;\n  background: ",";\n  border-right: 1px solid ",";\n"]);return U=function(){return n},n}function L(){let n=(0,i._)(["\n  width: 100%;\n  height: 100%;\n"]);return L=function(){return n},n}function M(){let n=(0,i._)(["\n  width: 100%;\n  height: 100%;\n  padding-left: ",";\n  transition: padding-left 0.5s;\n"]);return M=function(){return n},n}function D(){let n=(0,i._)(["\n  width: 100%;\n  height: 1px;\n  background: ",";\n  margin-top: 12px;\n"]);return D=function(){return n},n}function B(){let n=(0,i._)(["\n  width: 100%;\n  height: calc(100% - 69px);\n  display: inherit;\n"]);return B=function(){return n},n}let H=S()(()=>t.e(1003).then(t.t.bind(t,81003,23)),{loadableGenerated:{webpack:()=>[81003]},ssr:!1,loading:()=>(0,r.jsx)(s.X0,{})}),Z=n=>{let{children:e}=n,{isOpen:t}=(0,d.H)(),i=(0,p.useRouter)(),{toolId:o}=i.query,c=P.useMemo(()=>o?"string"==typeof o?o:o[0]:null,[o]);return(0,r.jsxs)(W,{children:[(0,r.jsx)(V,{isOpen:t,children:(0,r.jsxs)($,{children:[(0,r.jsx)(H,{currentToolId:c,navigate:n=>i.push(n)}),(0,r.jsx)(F,{}),(0,r.jsx)(z.a,{service:"tool"})]})}),(0,r.jsx)(J,{isOpen:t,children:e})]})},V=c().div.withConfig({componentId:"sc-fb56acda-0"})(U(),n=>{let{isOpen:e}=n;return e?"0px":"-235px"},l.O9T.BLUE_300_BG,l.O9T.GRAY_100),W=c()(l.A09).withConfig({componentId:"sc-fb56acda-1"})(L()),J=c().div.withConfig({componentId:"sc-fb56acda-2"})(M(),n=>{let{isOpen:e}=n;return e?"235px":"0px"}),F=c().div.withConfig({componentId:"sc-fb56acda-3"})(D(),l.O9T.GRAY_200),$=c().div.withConfig({componentId:"sc-fb56acda-4"})(B()),N=n=>{let{children:e}=n;return(0,r.jsx)(r.Fragment,{children:e})}},90725:function(n,e,t){"use strict";t.d(e,{BW:function(){return u},yU:function(){return h},Nc:function(){return l.N},_X:function(){return c},s2:function(){return d}});var i=t(52983),r=t(8996),o=t(49440);let c=n=>{let{chatId:e,chatUserId:t,shareId:c,likes:l}=n,[s,d]=(0,i.useState)(!1),[a,u]=(0,i.useState)(null!=l?l:0),{data:p}=(0,o.pgb)(),{handleOpenLoginDialog:h}=(0,o.tF5)(),[x,f]=(0,r.useRecoilState)(o.$1c),{collectEvent:g}=(0,o.zX9)();(0,i.useEffect)(()=>{e&&(null==x?void 0:x.includes(e))?d(!0):d(!1)},[x]);let m=async n=>{if(!p){h();return}n.stopPropagation();try{if(e){if(s){var i;g("click_share_trend_like_btn",{share_trend_post_id:c,share_trend_post_uploader:t,onoff:"off"}),await (0,o.Nke)(e),u(a<1?0:a-1),f(null!==(i=null==x?void 0:x.filter(n=>n!==e))&&void 0!==i?i:[])}else g("click_share_trend_like_btn",{share_trend_post_id:c,share_trend_post_uploader:t,onoff:"on"}),await (0,o.mTk)(e),u(a+1),f([...null!=x?x:[],e])}}catch(n){}};return{likes:a,isLiked:s,onClickLike:m}};var l=t(99744);t(68702);var s=t(61603);let d=()=>{let[n,e]=(0,i.useState)(!1);return(0,i.useEffect)(()=>(s.Router.events.on("routeChangeStart",()=>e(!0)),s.Router.events.on("routeChangeComplete",()=>e(!1)),s.Router.events.on("routeChangeError",()=>e(!1)),()=>{s.Router.events.off("routeChangeStart",()=>e(!0)),s.Router.events.off("routeChangeComplete",()=>e(!1)),s.Router.events.off("routeChangeError",()=>e(!1))}),[s.Router.events]),{loading:n}};var a=t(50948);let u=n=>{var e,t,r;let{post:c}=n,{data:l}=(0,o.pgb)(),{handleOpenLoginDialog:s}=(0,o.tF5)(),{data:d,mutate:u,isLoading:p}=(0,a.kZ)(),{trigger:h}=(0,a.JZ)(),{trigger:x}=(0,a.pt)(),f=null!==(t=d&&(null==d?void 0:d.postIds.includes(null!==(e=null==c?void 0:c._id)&&void 0!==e?e:"")))&&void 0!==t&&t,{collectEvent:g}=(0,o.zX9)(),[m,w]=i.useState(null!==(r=null==c?void 0:c.scrapCount)&&void 0!==r?r:0),_=async()=>{l||s(),!p&&c&&(d&&f?(g("click_wrtn_post_bookmark_btn",{post_id:c.postUUID,post_title:c.title,post_type:"blog",is_on:!0}),x({postUUID:c.postUUID},{onSuccess(n){401===n.status&&s(),200===n.status&&(w(n.data.data.postScrapCount),u({...d,postIds:d.postIds.filter(n=>c._id!==n)},{revalidate:!1}))},onError(n){console.error("[ERROR] :".concat(n))}})):(g("click_wrtn_post_bookmark_btn",{post_id:c.postUUID,post_title:c.title,post_type:"blog",is_on:!1}),h({postUUID:c.postUUID},{onSuccess(n){401===n.status&&s(),201===n.status&&(w(n.data.data.postScrapCount),d?u({...d,postIds:d.postIds.concat(c._id)},{revalidate:!1}):u())},onError(n){console.error("[ERROR] :".concat(n))}})))};return{handleClickBookmark:_,isBookmark:f,bookmarkCount:m}};var p=t(97485);let h=n=>{let{post:e}=n,t=(0,p.useAlert)(),[r,c]=i.useState(!1),{collectEvent:l}=(0,o.zX9)();i.useEffect(()=>{r&&setTimeout(()=>{c(!1)},1e3)},[r]);let s=async n=>{if(!e)return;n.stopPropagation(),l("click_wrtn_post_share_btn",{post_id:e.postUUID,post_title:e.title,post_type:"blog"});let i=window.location.href;await navigator.clipboard.writeText(i),t.removeAll(),t.show("링크가 복사되었습니다.")};return{handleClickCopyLink:s,closeCopyInfoMessage:()=>c(!1),copyInfoMessage:r}}},99744:function(n,e,t){"use strict";t.d(e,{N:function(){return c}});var i=t(52983),r=t(68702),o=t(61603);let c=()=>{let n=(0,o.useRouter)(),e=(0,r.usePathname)(),t=(0,r.useSearchParams)(),c=(0,i.useCallback)((n,e)=>{let i=new URLSearchParams(t);return i.delete("page"),i.set(n,e),i.toString()},[t]),l=(t,i)=>{n.push("".concat(e,"?").concat(c(t,i)))};return{onChangeQuery:l}}},46714:function(n,e,t){"use strict";let i;t.d(e,{YS:function(){return sy},zA:function(){return dj},s6:function(){return dn},x:function(){return sd},mB:function(){return eZ}});var r=t(43727),o=t(97458),c=t(52983),l=t(68702),s=t(8996),d=t(38388),a=t.n(d),u=t(49440),p=t(2754),h=t(79742),x=t(2440),f=t.n(x),g=t(90725),m=t(54369),w=t(54493);function _(n){let{dateString:e}=n,t=(0,m.Z)(e);return(0,o.jsx)("time",{dateTime:e,children:(0,w.Z)(t,"yyyy년 MM월 dd일 HH:mm")})}function b(){let n=(0,r._)(["\n  gap: 12px;\n  height: 32px;\n  padding: 4px 0px;\n  width: 100%;\n"]);return b=function(){return n},n}function j(){let n=(0,r._)(["\n  flex: 1;\n  height: 24px;\n  border-bottom: 2px solid ",";\n\n  > input {\n    display: block;\n    color: ",";\n    background-color: ",";\n    ",";\n    width: 100%;\n\n    @media (max-width: 767px) {\n      ","\n    }\n  }\n"]);return j=function(){return n},n}function v(){let n=(0,r._)(["\n  gap: 4px;\n\n  > span {\n    cursor: pointer;\n  }\n"]);return v=function(){return n},n}function C(n){let{topic:e,submitEditChatTopic:t,cancelEditChatTopic:i}=n,[r,l]=(0,c.useState)(e),s=n=>{"Enter"===n.key&&t(r)},d=()=>{t(r)};return(0,o.jsxs)(I,{children:[(0,o.jsx)(k,{children:(0,o.jsx)("input",{value:r,onChange:n=>l(n.target.value),onKeyDown:s})}),(0,o.jsxs)(y,{row:!0,children:[(0,o.jsx)("span",{onClick:d,children:(0,o.jsx)(p.JO$,{icon:"check",size:24,color:p.O9T.GRAY_500})}),(0,o.jsx)("span",{onClick:i,children:(0,o.jsx)(p.JO$,{icon:"times",size:24,color:p.O9T.GRAY_500})})]})]})}let I=a()(p.A09).withConfig({componentId:"sc-98118d33-0"})(b()),k=a()(p.A09).withConfig({componentId:"sc-98118d33-1"})(j(),p.O9T.PURPLE_500_PRIMARY,p.O9T.GRAY_800,p.O9T.BLUE_300_BG,(0,p.bVO)("100-18-semi"),(0,p.bVO)("100-16-semi")),y=a()(p.A09).withConfig({componentId:"sc-98118d33-2"})(v());function A(){let n=(0,r._)(["\n  z-index: 10;\n  position: absolute;\n  right: -175px;\n  top: 20px;\n  width: 171px;\n\n  @media (max-width: 1279px) {\n    top: 35px;\n    right: 0px;\n    width: 120px;\n    border-radius: 5px;\n  }\n\n  background-color: white;\n  border: 1px solid ",";\n  border-radius: 4px;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 8px 0;\n  display: ",";\n\n  ","\n\n  > div {\n    display: flex;\n    padding: 10px;\n    gap: 11px;\n    width: 100%;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover {\n      background-color: ",";\n    }\n  }\n"]);return A=function(){return n},n}function R(n){let{showMenu:e,copyLink:t,editChatTopic:i,deleteChat:r,closeMenu:l}=n,s=(0,u.ach)("(max-width: 1279px)"),d=(0,c.useRef)(null);return(0,u.O8h)(d,"mousedown",()=>l()),(0,o.jsxs)(O,{showMenu:e,ref:d,children:[(0,o.jsxs)("div",{onClick:i,children:[(0,o.jsx)(p.JO$,{icon:"edit-alt",size:20,color:p.O9T.GRAY_400}),s?"제목 수정":"게시물 제목 수정"]}),(0,o.jsxs)("div",{onClick:t,children:[(0,o.jsx)(p.JO$,{icon:"link",size:20,color:p.O9T.GRAY_400}),"링크 복사"]}),(0,o.jsxs)("div",{onClick:r,children:[(0,o.jsx)(p.JO$,{icon:"trash-alt",size:20,color:p.O9T.GRAY_400}),s?"삭제":"게시물 삭제"]})]})}let O=a()(p.A09).withConfig({componentId:"sc-94188700-0"})(A(),p.O9T.GRAY_200,n=>{let{showMenu:e}=n;return e?"show":"none"},(0,p.f3b)({weight:600,size:"16px",color:p.O9T.GRAY_700}),p.O9T.GRAY_000);var T=t(72600);function Y(n){let{label:e,circleSize:t,fontSize:i}=n;return(0,o.jsx)(T.q,{width:t,size:i,children:(null!=e?e:"").slice(0,1)})}function E(){let n=(0,r._)(["\n  flex-direction: column;\n  border: 1px solid ",";\n  border-radius: 10px;\n  align-self: center;\n  width: 100%;\n  padding: 20px;\n\n  box-shadow: 0px 2px 10px rgba(79, 68, 195, 0.1);\n"]);return E=function(){return n},n}function P(){let n=(0,r._)(["\n  flex-direction: row;\n  width: 100%;\n  padding-bottom: 20px;\n  border-bottom: 1px solid ",";\n"]);return P=function(){return n},n}function G(){let n=(0,r._)(["\n  flex-direction: column;\n  align-items: baseline;\n  gap: 20px;\n  flex: 1;\n"]);return G=function(){return n},n}function S(){let n=(0,r._)(["\n  flex-direction: row;\n  gap: 10px;\n\n  ","\n"]);return S=function(){return n},n}function z(){let n=(0,r._)(["\n  flex-direction: row;\n  align-self: baseline;\n  padding-top: 10px;\n  gap: 20px;\n  align-items: center;\n\n  ","\n"]);return z=function(){return n},n}function U(){let n=(0,r._)(["\n  flex-direction: row;\n  gap: 10px;\n"]);return U=function(){return n},n}function L(){let n=(0,r._)(["\n  ","\n\n  @media (max-width: 767px) {\n    ","\n  }\n"]);return L=function(){return n},n}function M(){let n=(0,r._)(["\n  color: ",";\n"]);return M=function(){return n},n}function D(){let n=(0,r._)(["\n  padding: 4px;\n  border-radius: 4px;\n  cursor: pointer;\n  &:hover {\n    background-color: ",";\n  }\n"]);return D=function(){return n},n}function B(n){let{chat:{_id:e,topic:t,userName:i,shareId:r,views:l,likes:s,createdAt:d,userId:a},editable:h,removeChat:x,editChat:m}=n,[w,b]=(0,c.useState)(!1),[j,v]=(0,c.useState)(!1),[I,k]=(0,c.useState)(null!=t?t:""),{likes:y,isLiked:A}=(0,g._X)({chatId:e,chatUserId:a,likes:s,shareId:r}),{collectEvent:O}=(0,u.zX9)(),T=async n=>{n.stopPropagation(),b(!1),v(!0)},E=async n=>{n.stopPropagation(),b(!1),x&&(await x(e),O("delete_share_trend_post",{share_trend_post_id:r}))},P=async n=>{n.stopPropagation(),navigator.clipboard.writeText("".concat(window.location.href.split("?")[0],"/").concat(r)),b(!1)},G=async()=>{v(!1)},S=async n=>{v(!1),m&&(await m(e,n),k(n))};return(0,o.jsxs)(H,{children:[(0,o.jsxs)(Z,{children:[j?(0,o.jsxs)(V,{children:[(0,o.jsxs)(W,{children:[(0,o.jsx)(Y,{fontSize:12,circleSize:20,label:i}),(0,o.jsx)(N,{children:i}),(0,o.jsx)("div",{children:"\xb7"}),(0,o.jsx)("div",{children:(0,o.jsx)(_,{dateString:null!=d?d:""})})]}),(0,o.jsx)(C,{topic:I,submitEditChatTopic:S,cancelEditChatTopic:G})]}):(0,o.jsx)(f(),{href:"/share/".concat(r),style:{width:"100%"},children:(0,o.jsxs)(V,{children:[(0,o.jsxs)(W,{children:[(0,o.jsx)(Y,{fontSize:12,circleSize:24,label:i}),(0,o.jsx)(N,{children:i}),(0,o.jsx)("div",{children:"\xb7"}),(0,o.jsx)("div",{children:(0,o.jsx)(_,{dateString:null!=d?d:""})})]}),(0,o.jsx)($,{children:(null==I?void 0:I.length)>100?"".concat(I.slice(0,100),"..."):"".concat(null!=I?I:"제목없음")})]})}),(0,o.jsx)(X,{children:h?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{onClick:()=>b(!w),children:(0,o.jsx)(p.JO$,{icon:"ellipsis-h",size:20,color:p.O9T.GRAY_500})}),w&&(0,o.jsx)(R,{showMenu:w,copyLink:P,editChatTopic:T,deleteChat:E,closeMenu:()=>b(!1)})]}):(0,o.jsx)(f(),{href:"/share/".concat(r),children:(0,o.jsx)(p.JO$,{icon:"angle-right",size:24,color:p.O9T.GRAY_500})})})]}),(0,o.jsxs)(J,{children:[(0,o.jsxs)(F,{children:[(0,o.jsx)(p.JO$,{icon:"eye",size:20,color:p.O9T.GRAY_600}),(0,o.jsx)("div",{style:{marginRight:"10px"},children:l})]}),(0,o.jsxs)(F,{children:[A?(0,o.jsx)(p.QSV,{}):(0,o.jsx)(p.JO$,{icon:"heart",size:20,color:p.O9T.GRAY_600}),(0,o.jsx)("div",{children:null!=y?y:0})]})]})]})}let H=a()(p.A09).withConfig({componentId:"sc-b34eb7f7-0"})(E(),p.O9T.GRAY_100),Z=a()(p.A09).withConfig({componentId:"sc-b34eb7f7-1"})(P(),p.O9T.GRAY_100),V=a()(p.A09).withConfig({componentId:"sc-b34eb7f7-2"})(G()),W=a()(p.A09).withConfig({componentId:"sc-b34eb7f7-3"})(S(),(0,p.f3b)({weight:500,size:"16px",color:p.O9T.GRAY_500})),J=a()(p.A09).withConfig({componentId:"sc-b34eb7f7-4"})(z(),(0,p.f3b)({weight:500,size:"14px",color:p.O9T.GRAY_600})),F=a()(p.A09).withConfig({componentId:"sc-b34eb7f7-5"})(U()),$=a().div.withConfig({componentId:"sc-b34eb7f7-6"})(L(),(0,p.f3b)({weight:600,size:"18px",color:p.O9T.GRAY_800,height:"28.8px"}),(0,p.f3b)({weight:600,size:"16px",color:p.O9T.GRAY_800,height:"25.6px"})),N=a().span.withConfig({componentId:"sc-b34eb7f7-7"})(M(),p.O9T.GRAY_700),X=a().div.withConfig({componentId:"sc-b34eb7f7-8"})(D(),p.O9T.GRAY_000);function K(){let n=(0,r._)(["\n  height: 24px;\n  cursor: pointer;\n\n  svg {\n    circle {\n      stroke: ",";\n    }\n    path {\n      fill: ",";\n    }\n  }\n\n  &:disabled {\n    cursor: default;\n    svg {\n      circle {\n        stroke: ",";\n      }\n      path {\n        fill: ",";\n      }\n    }\n  }\n"]);return K=function(){return n},n}function q(n){let{type:e,disabled:t,onClick:i}=n;return(0,o.jsxs)(Q,{disabled:t,onClick:i,children:["left"===e&&(0,o.jsx)(p.HoT,{style:{transform:"rotate(180deg)"}}),"right"===e&&(0,o.jsx)(p.HoT,{}),"rightDouble"===e&&(0,o.jsx)(p.PRD,{})]})}let Q=a()(p.CYX).withConfig({componentId:"sc-e8c1329-0"})(K(),p.O9T.GRAY_500,p.O9T.GRAY_500,p.O9T.GRAY_200,p.O9T.GRAY_200);function nn(){let n=(0,r._)(["\n  flex-direction: row;\n  gap: 17px;\n  align-items: center;\n"]);return nn=function(){return n},n}function ne(){let n=(0,r._)(["\n  padding: 5px 10px;\n  cursor: pointer;\n\n  @media (max-width: 767px) {\n    padding: 5px;\n  }\n\n  ","\n  color: ",";\n"]);return ne=function(){return n},n}function nt(){let n=(0,r._)(["\n  flex-direction: row;\n  gap: 10px;\n"]);return nt=function(){return n},n}function ni(n){let{currentIndex:e,maxIndex:t,handlePage:i}=n,r=(0,c.useMemo)(()=>{let n=Math.floor(e/10),i=n+9<t?n+9:t,r=[];for(let e=n;e<=i;e+=1){let n=e+1;r.push(n)}return r},[e,t]),l=(0,c.useMemo)(()=>{let n=r[r.length-1]-1;return n<t},[t]),s=n=>{i(n)};return(0,o.jsxs)(nr,{children:[(0,o.jsx)(q,{type:"left",disabled:0===e,onClick:()=>s(e-1)}),(0,o.jsx)("div",{children:r.map(n=>(0,o.jsx)(no,{isSelected:n===e+1,onClick:()=>s(n-1),children:n},n))}),(0,o.jsxs)(nc,{children:[(0,o.jsx)(q,{type:"right",disabled:e===t,onClick:()=>s(e+1)}),l&&(0,o.jsx)(q,{type:"rightDouble",disabled:!0,onClick:()=>s(r[r.length-1]-1)})]})]})}let nr=a()(p.A09).withConfig({componentId:"sc-e26d58c-0"})(nn()),no=a().span.withConfig({componentId:"sc-e26d58c-1"})(ne(),(0,p.f3b)({weight:500,size:"18px"}),n=>{let{isSelected:e}=n;return e?p.O9T.PURPLE_500_PRIMARY:p.O9T.GRAY_400}),nc=a()(p.A09).withConfig({componentId:"sc-e26d58c-2"})(nt());var nl=t(61603);function ns(){let n=(0,r._)(["\n  border: 1px solid ",";\n  border-radius: 10px;\n  height: 300px;\n  flex: 0 0 300px;\n  padding: 24px;\n  align-items: flex-start;\n  flex-direction: column-reverse;\n  gap: 16px;\n\n  background: ",";\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  ","\n"]);return ns=function(){return n},n}function nd(){let n=(0,r._)(["\n  flex-direction: row;\n  width: 100%;\n  justify-content: space-between;\n"]);return nd=function(){return n},n}function na(){let n=(0,r._)(["\n  flex-direction: row;\n  gap: 8px;\n"]);return na=function(){return n},n}function nu(){let n=(0,r._)(["\n  gap: 16px;\n\n  > div {\n    display: flex;\n    gap: 6px;\n    align-items: center;\n  }\n"]);return nu=function(){return n},n}function np(){let n=(0,r._)(["\n  ",";\n"]);return np=function(){return n},n}function nh(n){var e,t;let{image:i}=n,r=(0,nl.useRouter)();if(!i.thumbnail)return null;let c=()=>{r.push("/share/".concat(i.shareId))};return(0,o.jsxs)(nx,{url:i.thumbnail,onClick:c,children:[(0,o.jsxs)(nf,{children:[(0,o.jsxs)(ng,{children:[(0,o.jsx)(Y,{fontSize:12,circleSize:24,label:i.userName}),i.userName]}),(0,o.jsxs)(nm,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(p.JO$,{icon:"eye",size:22,color:p.O9T.WHITE}),i.views]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(p.JO$,{icon:"heart",size:20,color:p.O9T.WHITE}),null!==(e=i.likes)&&void 0!==e?e:0]})]})]}),(0,o.jsx)(nw,{children:(null==i?void 0:i.topic.length)>20?"".concat(i.topic.slice(0,20),"..."):null!==(t=null==i?void 0:i.topic)&&void 0!==t?t:""})]})}let nx=a()(p.A09).withConfig({componentId:"sc-a3ed2eda-0"})(ns(),p.O9T.GRAY_100,n=>{let{url:e}=n;return"linear-gradient(180deg, rgba(0, 0, 0, 0) 50%, #000000 100%), url(".concat(e,")")},(0,p.f3b)({weight:500,size:"16px",color:p.O9T.WHITE})),nf=a()(p.A09).withConfig({componentId:"sc-a3ed2eda-1"})(nd()),ng=a()(p.A09).withConfig({componentId:"sc-a3ed2eda-2"})(na()),nm=a()(p.A09).withConfig({componentId:"sc-a3ed2eda-3"})(nu()),nw=a()(p.A09).withConfig({componentId:"sc-a3ed2eda-4"})(np(),(0,p.f3b)({weight:600,size:"16px",color:p.O9T.WHITE}));function n_(){let n=(0,r._)(["\n  flex-direction: row;\n  gap: 18px;\n"]);return n_=function(){return n},n}function nb(n){let{position:e,disabled:t,onClickPrev:i,onClickNext:r}=n;return(0,o.jsxs)(nj,{children:[(0,o.jsx)(q,{type:"left",disabled:t||"first"===e,onClick:i}),(0,o.jsx)(q,{type:"right",disabled:t||"last"===e,onClick:r})]})}let nj=a()(p.A09).withConfig({componentId:"sc-ccfd5819-0"})(n_());var nv=t(72263),nC=t(50948),nI=t(27901),nk=t.n(nI);function ny(){let n=(0,r._)(["\n  width: 28px;\n  height: 28px;\n"]);return ny=function(){return n},n}function nA(){let n=(0,r._)(["\n                ",";\n                gap: 8px;\n              "]);return nA=function(){return n},n}function nR(){let n=(0,r._)(["\n          &:hover {\n            cursor: pointer;\n          }\n        "]);return nR=function(){return n},n}function nO(){let n=(0,r._)(["\n                ","\n              "]);return nO=function(){return n},n}let nT=n=>{let{post:e}=n;c.useEffect(()=>{},[]);let t=(0,nl.useRouter)(),i=()=>{t.push("/share/posts/".concat(e.postUUID))},{handleClickBookmark:r,isBookmark:l}=(0,g.BW)({post:e});return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(nP,{onClick:i,children:[(0,o.jsx)(nv.xu,{marginBottom:"8px",children:(0,o.jsx)(nk(),{unoptimized:!0,alt:e.title,src:e.thumbnailUrl,width:300,height:168.8,style:{borderRadius:"10px"}})}),(0,o.jsxs)(nv.xu,{children:[(0,o.jsxs)(nv.xu,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingBottom:"8px",children:[(0,o.jsxs)(nE,{display:"flex",justifyContent:"flex-start",alignItems:"center",color:"#2B2D35",children:[(0,o.jsx)(nY,{}),"Wrtn"," "]}),(0,o.jsx)(nv.xu,{onClick:n=>{n.stopPropagation(),r()},children:l?(0,o.jsx)(p.UH6,{}):(0,o.jsx)(p.JO$,{icon:"bookmark-full",size:24,color:p.O9T.GRAY_700})})]}),(0,o.jsx)(nv.xu,{children:(0,o.jsx)(nG,{color:p.O9T.BLACK,children:e.title})})]})]},e._id)})},nY=a()(p.MsG).withConfig({componentId:"sc-da1b4f72-0"})(ny());var nE=a()(nv.xu).withConfig({componentId:"sc-da1b4f72-1"})(nA(),(0,p.bVO)("100-13-semi")),nP=a()(nv.xu).withConfig({componentId:"sc-da1b4f72-2"})(nR()),nG=a()(nv.Dr).withConfig({componentId:"sc-da1b4f72-3"})(nO(),(0,p.bVO)("160-16-semi"));function nS(){let n=(0,r._)(["\n  flex: 1;\n\n  ","\n"]);return nS=function(){return n},n}function nz(){let n=(0,r._)(["\n  background: white;\n  ","\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return nz=function(){return n},n}function nU(){let n=(0,r._)(["\n  height: 300px;\n  width: 100%;\n  align-items: center;\n  justify-content: space-around;\n"]);return nU=function(){return n},n}function nL(){let n=(0,r._)(["\n  flex-direction: column;\n  width: 980px;\n  align-items: flex-start;\n  gap: 16px;\n\n  @media (max-width: 1024px) {\n    width: 100%;\n    padding: 10px;\n  }\n"]);return nL=function(){return n},n}function nM(){let n=(0,r._)(["\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  gap: 17px;\n\n  ","\n"]);return nM=function(){return n},n}function nD(){let n=(0,r._)(["\n            gap: 16px;\n          "]);return nD=function(){return n},n}let nB=()=>{let[n,e]=(0,c.useState)("first"),[t,i]=(0,c.useState)(null),[r,o]=(0,c.useState)(null),l=(0,c.useRef)(null);(0,c.useEffect)(()=>{var n;null!==t&&(null===(n=l.current)||void 0===n||n.scrollBy({left:-948,behavior:"smooth"}))},[t]),(0,c.useEffect)(()=>{var n;null!==r&&(null===(n=l.current)||void 0===n||n.scrollBy({left:948,behavior:"smooth"}))},[r]),(0,c.useEffect)(()=>{var n;let t=()=>{if(!l.current)return;let n=l.current,t=0===n.scrollLeft,i=n.scrollLeft+n.offsetWidth>=n.scrollWidth;t?e("first"):i?e("last"):e("middle")};return null===(n=l.current)||void 0===n||n.addEventListener("scroll",t),()=>{var n;null===(n=l.current)||void 0===n||n.removeEventListener("scroll",t)}},[]);let s=()=>{o(n=>!n)},d=()=>{i(n=>!n)};return{scrollRef:l,position:n,next:s,prev:d}},nH=n=>{let{title:e,showMoreButton:t,challengeId:i}=n,{data:r,isLoading:c}=(0,nC.qy)(),{scrollRef:s,position:d,next:a,prev:u}=nB(),x=(0,l.useRouter)(),f=()=>{i&&x.push("/share/challenge/".concat(i))};return(0,o.jsxs)(nJ,{children:[(0,o.jsxs)(nF,{children:[(0,o.jsx)(nZ,{isGray:!!i,children:e}),(0,o.jsx)(nb,{position:d,disabled:r.length<=3,onClickPrev:()=>u(),onClickNext:()=>a()}),t&&i&&(0,o.jsx)(nV,{onClick:f,children:"더보기"})]}),c&&(0,o.jsx)(nW,{children:(0,o.jsx)(h.$,{width:22,height:22,color:p.O9T.PURPLE_500_PRIMARY})}),!c&&(0,o.jsx)(n$,{ref:s,display:"flex",flexDirection:"row",overflowX:"scroll",width:"100%",children:r.filter(n=>!(null==n?void 0:n.videoContent)).map(n=>(0,o.jsx)(nT,{post:n}))})]})},nZ=a().div.withConfig({componentId:"sc-82c2199f-0"})(nS(),n=>{let{isGray:e}=n;return e&&(0,p.f3b)({weight:600,size:"18px",color:p.O9T.GRAY_800})}),nV=a().button.withConfig({componentId:"sc-82c2199f-1"})(nz(),(0,p.f3b)({weight:600,size:"14px",color:p.O9T.GRAY_500})),nW=a()(p.A09).withConfig({componentId:"sc-82c2199f-2"})(nU()),nJ=a()(p.A09).withConfig({componentId:"sc-82c2199f-3"})(nL()),nF=a()(p.A09).withConfig({componentId:"sc-82c2199f-4"})(nM(),(0,p.f3b)({weight:"600",size:"18px",height:"100%",color:p.O9T.PURPLE_500_PRIMARY}));var n$=a()(nv.xu).withConfig({componentId:"sc-82c2199f-5"})(nD());function nN(){let n=(0,r._)(["\n  border: 1px solid\n    ",";\n  height: 36px;\n  padding: 10px 16px 10px 16px;\n  justify-content: center;\n  border-top-right-radius: 20px;\n  border-top-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n  ",";\n  background-color: white;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  ",";\n\n  @media (max-width: 767px) {\n    overflow: scroll;\n    // flex: 0 0 ",";\n    flex: 0 0 auto;\n  }\n"]);return nN=function(){return n},n}function nX(n){let{label:e,isSelected:t,width:i,onClick:r}=n;return(0,o.jsx)(nK,{width:i,isSelected:t,onClick:r,children:e})}let nK=a()(p.A09).withConfig({componentId:"sc-5af05665-0"})(nN(),n=>{let{isSelected:e}=n;return e?p.O9T.PURPLE_500_PRIMARY:p.O9T.WHITE},n=>{let{isSelected:e}=n;return e?"":"border-bottom-left-radius: 20px;"},p.O9T.PURPLE_200,p.O9T.PURPLE_500_PRIMARY,n=>{let{isSelected:e}=n;return e?(0,p.f3b)({color:p.O9T.PURPLE_500_PRIMARY,weight:700,size:"16px"}):(0,p.f3b)({color:p.O9T.GRAY_500,weight:500,size:"16px"})},n=>{let{width:e}=n;return e?"".concat(e,"px"):"115px"});var nq=t(99744);function nQ(){let n=(0,r._)(["\n  margin-top: 50px;\n  margin-bottom: 24px;\n\n  @media (max-width: 767px) {\n    padding: 16px 20px;\n    margin: 20px 0px 8px;\n    background: white;\n    ","\n    z-index: 9;\n    position: sticky;\n    top: 0px;\n    width: 100%;\n  }\n"]);return nQ=function(){return n},n}function n0(){let n=(0,r._)(["\n        gap: 12px;\n        padding: 10px;\n        overflow: scroll;\n      "]);return n0=function(){return n},n}function n1(){let[n,e]=(0,c.useState)(null),[t,i]=(0,c.useState)(null),[r,s]=(0,c.useState)(!1),d=(0,c.useRef)(null),{onChangeQuery:a}=(0,nq.N)(),{collectEvent:p}=(0,u.zX9)(),h=(0,l.useSearchParams)();return(0,c.useEffect)(()=>{let n=()=>{var n;if(!d.current)return;let e=null===(n=d.current)||void 0===n?void 0:n.getBoundingClientRect();s(e.top<=56)};return window.addEventListener("touchmove",n),()=>{window.removeEventListener("touchmove",n)}},[]),(0,c.useEffect)(()=>{let n=h.get("category"),t=h.get("keyword");e(n&&""!==n?n:null),i(t&&""!==t?t:null)},[h]),(0,c.useEffect)(()=>{s(!1)},[h]),(0,c.useEffect)(()=>{if(n){let e="";switch(n){case"my":e="내 게시물",p("click_share_trend_menu",{share_trend_menu:"내 게시물"});break;case"latest":e="최신게시물",p("click_share_trend_menu",{share_trend_menu:"최신게시물"});break;case"popular":e="실시간 인기",p("click_share_trend_menu",{share_trend_menu:"실시간 인기"});break;case"mylikes":e="좋아요",p("click_share_trend_menu",{share_trend_menu:"좋아요"});break;case"bookmark":e="북마크",p("click_share_trend_menu",{share_trend_menu:"북마크"});break;default:e=""}""!==e&&p("click_share_trend_menu",{share_trend_menu:"최신게시물"})}},[n]),(0,o.jsx)(n9,{display:"flex",flexDirection:"row",alignItems:"flex-start",children:(0,o.jsxs)(n2,{ref:d,isSticky:r,children:[(0,o.jsx)(nX,{label:"#실시간 인기",isSelected:"popular"===n||!n&&!t,onClick:()=>a("category","popular")}),(0,o.jsx)(nX,{label:"#챌린지",width:80,isSelected:"challenge"===n,onClick:()=>a("category","challenge")}),(0,o.jsx)(nX,{label:"최신 게시물",width:100,isSelected:"latest"===n||!n&&!!t,onClick:()=>a("category","latest")}),(0,o.jsx)(nX,{label:"내 게시물",width:90,isSelected:"my"===n,onClick:()=>a("category","my")}),(0,o.jsx)(nX,{label:"좋아요",width:75,isSelected:"mylikes"===n,onClick:()=>a("category","mylikes")}),(0,o.jsx)(nX,{label:"북마크",width:75,isSelected:"bookmark"===n,onClick:()=>a("category","bookmark")})]})})}let n2=a()(p.A09).withConfig({componentId:"sc-18540e16-0"})(nQ(),n=>{let{isSticky:e}=n;return e&&"box-shadow: 0px 4px 20px rgba(57, 68, 112, 0.1);"});var n9=a()(nv.xu).withConfig({componentId:"sc-18540e16-1"})(n0());function n5(){let n=(0,r._)(["\n  flex-direction: row;\n  gap: 16px;\n  width: 100%;\n  overflow-x: scroll;\n"]);return n5=function(){return n},n}let n8=n=>{let{images:e,prevToggle:t,nextToggle:i,movePosition:r}=n,l=(0,c.useRef)(null);return(0,c.useEffect)(()=>{var n;null!==t&&(null===(n=l.current)||void 0===n||n.scrollBy({left:-948,behavior:"smooth"}))},[t]),(0,c.useEffect)(()=>{var n;null!==i&&(null===(n=l.current)||void 0===n||n.scrollBy({left:948,behavior:"smooth"}))},[i]),(0,c.useEffect)(()=>{var n;let e=()=>{if(!l.current)return;let n=l.current,e=0===n.scrollLeft,t=n.scrollLeft+n.offsetWidth>=n.scrollWidth;e?r("first"):t?r("last"):r("middle")};return null===(n=l.current)||void 0===n||n.addEventListener("scroll",e),()=>{var n;null===(n=l.current)||void 0===n||n.removeEventListener("scroll",e)}},[]),(0,o.jsx)(n4,{ref:l,children:e.map(n=>(0,o.jsx)(nh,{image:n},n._id))})},n4=a()(p.A09).withConfig({componentId:"sc-c80292a8-0"})(n5());function n6(){let n=(0,r._)(["\n  flex: 1;\n\n  ","\n"]);return n6=function(){return n},n}function n7(){let n=(0,r._)(["\n  background: white;\n  ","\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return n7=function(){return n},n}function n3(){let n=(0,r._)(["\n  height: 300px;\n  width: 100%;\n  align-items: center;\n  justify-content: space-around;\n"]);return n3=function(){return n},n}function en(){let n=(0,r._)(["\n  flex-direction: column;\n  width: 980px;\n  align-items: flex-start;\n  gap: 16px;\n\n  @media (max-width: 1024px) {\n    width: 100%;\n    padding: 10px;\n  }\n"]);return en=function(){return n},n}function ee(){let n=(0,r._)(["\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  gap: 17px;\n\n  ","\n"]);return ee=function(){return n},n}function et(n){let{title:e,images:t,showMoreButton:i,challengeId:r,isLoading:s}=n,[d,a]=(0,c.useState)("first"),[u,x]=(0,c.useState)(null),[f,g]=(0,c.useState)(null),m=(0,l.useRouter)(),w=()=>{r&&m.push("/share/challenge/".concat(r))};return(0,o.jsxs)(ec,{children:[(0,o.jsxs)(el,{children:[(0,o.jsx)(ei,{isGray:!!r,children:e}),(0,o.jsx)(nb,{position:d,disabled:t.length<=3,onClickPrev:()=>x(!u),onClickNext:()=>g(!f)}),i&&r&&(0,o.jsx)(er,{onClick:w,children:"더보기"})]}),s&&(0,o.jsx)(eo,{children:(0,o.jsx)(h.$,{width:22,height:22,color:p.O9T.PURPLE_500_PRIMARY})}),!s&&(0,o.jsx)(n8,{images:t,prevToggle:u,nextToggle:f,movePosition:a})]})}let ei=a().div.withConfig({componentId:"sc-a5713a4b-0"})(n6(),n=>{let{isGray:e}=n;return e&&(0,p.f3b)({weight:600,size:"18px",color:p.O9T.GRAY_800})}),er=a().button.withConfig({componentId:"sc-a5713a4b-1"})(n7(),(0,p.f3b)({weight:600,size:"14px",color:p.O9T.GRAY_500})),eo=a()(p.A09).withConfig({componentId:"sc-a5713a4b-2"})(n3()),ec=a()(p.A09).withConfig({componentId:"sc-a5713a4b-3"})(en()),el=a()(p.A09).withConfig({componentId:"sc-a5713a4b-4"})(ee(),(0,p.f3b)({weight:"600",size:"18px",height:"100%",color:p.O9T.PURPLE_500_PRIMARY}));function es(){let n=(0,r._)(["\n  width: 100%;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 48px;\n"]);return es=function(){return n},n}let ed=n=>{let{challenges:e,imageMap:t}=n;return(0,o.jsx)(ea,{children:e.map(n=>{let e=t[n._id];return(0,o.jsx)(et,{title:n.title,images:null!=e?e:[],isLoading:!e,showMoreButton:!0,challengeId:n._id})})})},ea=a()(p.A09).withConfig({componentId:"sc-aeff8a40-0"})(es());function eu(){let n=(0,r._)(["\n  ","\n"]);return eu=function(){return n},n}function ep(){let n=(0,r._)(["\n  margin-bottom: 30px;\n"]);return ep=function(){return n},n}function eh(){let[n,e]=(0,c.useState)(null),[t,i]=(0,c.useState)(0),[r,s]=(0,c.useState)(0),[d,a]=(0,c.useState)(!1),x=(0,l.useSearchParams)(),{data:f}=(0,u.pgb)();(0,c.useEffect)(()=>{f?(g(),a(!1)):a(!0)},[f]);let g=async()=>{var n,t,i;try{let i=null!==(n=x.get("keyword"))&&void 0!==n?n:void 0,r=null!==(t=x.get("page"))&&void 0!==t?t:void 0,o=await (0,u.OJu)(r,i);e(o.data.data.chats),s(o.data.data.totalCount)}catch(n){(null==n?void 0:null===(i=n.response)||void 0===i?void 0:i.status)===401&&a(!0)}},m=async n=>{try{let t=await (0,u.OJu)("".concat(n));e(t.data.data.chats),s(t.data.data.totalCount),i(n)}catch(n){}},w=async t=>{if(n)try{let i=n.find(n=>n._id===t);if(!i)return;await (0,u.YBT)(t,{isDeleted:!0,originalId:i.originalId});let r=n.filter(n=>n._id!==t);e(r)}catch(n){}},_=async(t,i)=>{if(n)try{await (0,u.YBT)(t,{topic:i});let r=n.map(n=>n._id===t?{...n,topic:i}:n);e(r)}catch(n){}};return d?(0,o.jsx)(ex,{children:"로그인이 필요한 서비스입니다."}):(0,o.jsxs)(o.Fragment,{children:[n?(0,o.jsxs)(o.Fragment,{children:[0===n.length&&(0,o.jsx)(ex,{children:"공유된 채팅이 없습니다."}),n.map(n=>(0,o.jsx)(B,{chat:n,editable:!0,removeChat:w,editChat:_},n._id))]}):(0,o.jsx)(h.$,{width:22,height:22,color:p.O9T.PURPLE_500_PRIMARY}),(0,o.jsx)(ef,{children:n&&(0,o.jsx)(ni,{currentIndex:Number(t),handlePage:m,maxIndex:Math.floor((r-1)/20)})})]})}let ex=a().div.withConfig({componentId:"sc-9a133151-0"})(eu(),(0,p.f3b)({weight:600,size:"16px",height:"180%",color:"#A1A5B9"})),ef=a()(p.A09).withConfig({componentId:"sc-9a133151-1"})(ep());function eg(){let n=(0,r._)(["\n  ","\n"]);return eg=function(){return n},n}function em(){let n=(0,r._)(["\n  margin-bottom: 30px;\n"]);return em=function(){return n},n}function ew(){let{data:n}=(0,u.pgb)(),[e,t]=(0,c.useState)(null),[i,r]=(0,c.useState)(0),[s,d]=(0,c.useState)(0),[a,x]=(0,c.useState)(!1),f=(0,l.useSearchParams)();(0,c.useEffect)(()=>{n?(g(),x(!1)):x(!0)},[n]);let g=async()=>{var n,e;try{let e=null!==(n=f.get("page"))&&void 0!==n?n:void 0,i=await (0,u.XMS)(e||"");i&&(t(i.data.data.chats),d(i.data.data.totalCount))}catch(n){(null==n?void 0:null===(e=n.response)||void 0===e?void 0:e.status)===401&&x(!0)}},m=async n=>{try{var e;let i=await (0,u.XMS)("".concat(n));(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.data)&&(t(i.data.data.chats),d(i.data.data.totalCount),r(n))}catch(n){}};return!n||a?(0,o.jsx)(e_,{children:"로그인이 필요한 서비스입니다."}):(0,o.jsxs)(o.Fragment,{children:[e?(0,o.jsxs)(o.Fragment,{children:[0===e.length&&(0,o.jsx)(e_,{children:"공유된 채팅이 없습니다."}),e.map(n=>(0,o.jsx)(B,{chat:n},n._id))]}):(0,o.jsx)(h.$,{width:22,height:22,color:p.O9T.PURPLE_500_PRIMARY}),(0,o.jsx)(eb,{children:e&&(0,o.jsx)(ni,{currentIndex:Number(i),handlePage:m,maxIndex:Math.floor((s-1)/20)})})]})}let e_=a().div.withConfig({componentId:"sc-e252bc1-0"})(eg(),(0,p.f3b)({weight:600,size:"16px",height:"180%",color:"#A1A5B9"})),eb=a()(p.A09).withConfig({componentId:"sc-e252bc1-1"})(em());function ej(){let n=(0,r._)(["\n          gap: 24px 20px;\n          grid-template-columns: repeat(auto-fill, 300px);\n\n          grid-template-rows: initial;\n        "]);return ej=function(){return n},n}let ev=()=>{c.useEffect(()=>{},[]);let{data:n}=(0,nC.Bz)();return(0,o.jsx)(nv.xu,{width:"100%",children:(0,o.jsx)(eC,{display:"grid",width:"100%",alignItems:"center",justifyContent:"center",children:n.filter(n=>!(null==n?void 0:n.videoContent)).map(n=>(0,o.jsx)(nT,{post:n}))})})};var eC=a()(nv.xu).withConfig({componentId:"sc-5523ba98-0"})(ej());function eI(){let n=(0,r._)(["\n  border: ",";\n  height: 48px;\n  flex: 1;\n  border-radius: 5px;\n  padding: 10px;\n\n  @media (min-width: 767px) {\n    min-width: 500px;\n  }\n"]);return eI=function(){return n},n}function ek(){let n=(0,r._)(["\n  cursor: pointer;\n"]);return ek=function(){return n},n}function ey(){let[n,e]=(0,c.useState)(""),[t,i]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1),{collectEvent:d}=(0,u.zX9)(),{onChangeQuery:a}=(0,g.Nc)(),h=(0,l.useSearchParams)();(0,c.useEffect)(()=>{let n=h.get("keyword");i(null!=n?n:""),e(null!=n?n:"")},[h]);let x=()=>{a("keyword",t),e(t)},f=()=>{if(""===n){i("");return}a("keyword",""),e(""),d("search_share_trend",{search_keyword:t})},m=n=>{"Enter"===n.key&&(a("keyword",t),e(t),d("search_share_trend",{search_keyword:t})),"Backspace"===n.key&&""===t&&(a("keyword",""),e(""))};return(0,o.jsxs)(eA,{isFocus:r,children:[(0,o.jsx)("input",{style:{width:"100%",height:"100%"},placeholder:"게시물 제목, 내용 검색",value:t,onKeyDown:m,onChange:n=>i(n.target.value),onFocus:()=>s(!0),onBlur:()=>s(!1)}),""===n&&!r&&(0,o.jsx)(eR,{onClick:x,children:(0,o.jsx)(p.JO$,{icon:"search",size:24,color:p.O9T.GRAY_300})}),""===n&&r&&(0,o.jsx)(eR,{onClick:x,children:(0,o.jsx)(p.JO$,{icon:"search",size:24,color:p.O9T.PURPLE_500_PRIMARY})}),""!==n&&(0,o.jsx)(eR,{onClick:f,children:(0,o.jsx)(p.JO$,{icon:"multiply",size:20,color:p.O9T.GRAY_300})})]})}let eA=a()(p.A09).withConfig({componentId:"sc-498a5570-0"})(eI(),n=>{let{isFocus:e}=n;return e?"1px solid ".concat(p.O9T.PURPLE_500_PRIMARY):"1px solid ".concat(p.O9T.GRAY_200)}),eR=a().div.withConfig({componentId:"sc-498a5570-1"})(ek());function eO(){let n=(0,r._)(["\n  flex-direction: row;\n  gap: 13px;\n\n  @media (max-width: 767px) {\n    width: 90%;\n  }\n"]);return eO=function(){return n},n}function eT(){let n=(0,r._)(["\n  @media (max-width: 767px) {\n    display: none;\n  }\n"]);return eT=function(){return n},n}function eY(){let n=(0,r._)(["\n  margin-right: 5px;\n  ","\n"]);return eY=function(){return n},n}function eE(){let n=(0,r._)(["\n  background-color: ",";\n  padding: 7.5px 12px 7.5px 10px;\n  border-top-right-radius: 20px;\n  border-top-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n\n  ","\n"]);return eE=function(){return n},n}function eP(){return(0,o.jsxs)(eG,{children:[(0,o.jsxs)(eS,{children:[(0,o.jsx)(ez,{children:"공유"}),(0,o.jsx)(eU,{children:"#트렌드"})]}),(0,o.jsx)(ey,{})]})}let eG=a()(p.A09).withConfig({componentId:"sc-85b6078a-0"})(eO()),eS=a().div.withConfig({componentId:"sc-85b6078a-1"})(eT()),ez=a().span.withConfig({componentId:"sc-85b6078a-2"})(eY(),(0,p.f3b)({weight:800,size:"17px",color:p.O9T.GRAY_700})),eU=a().span.withConfig({componentId:"sc-85b6078a-3"})(eE(),p.O9T.PURPLE_500_PRIMARY,(0,p.f3b)({weight:800,size:"17px",color:p.O9T.WHITE}));function eL(){let n=(0,r._)(["\n  flex-direction: column;\n  margin-top: 24px;\n\n  @media (max-width: 767px) {\n    margin-bottom: 40px;\n  }\n"]);return eL=function(){return n},n}function eM(){let n=(0,r._)(["\n  flex-direction: column;\n  gap: 20px;\n  max-width: 980px;\n  width: 100%;\n  margin-bottom: 50px;\n\n  @media (max-width: 1024px) {\n    width: 100%;\n    padding: 10px;\n  }\n"]);return eM=function(){return n},n}function eD(){let n=(0,r._)(["\n  margin-bottom: 30px;\n"]);return eD=function(){return n},n}function eB(){let n=(0,r._)(["\n  ","\n"]);return eB=function(){return n},n}function eH(){let n=(0,r._)(["\n  margin-bottom: 54px;\n\n  @media (max-width: 1024px) {\n    width: 100%;\n    margin-bottom: 0;\n  }\n"]);return eH=function(){return n},n}function eZ(n){var e,t;let{chats:i,totalCount:r,page:d,images:a=[],challenges:x=[],imageMap:f}=n,m=(0,s.useSetRecoilState)(u.$1c),{onChangeQuery:w}=(0,g.Nc)(),_=(0,l.useSearchParams)(),{collectEvent:b}=(0,u.zX9)(),j=(0,u.dD4)(),{loading:v}=(0,g.s2)(),{data:C}=(0,u.pgb)();c.useEffect(()=>(j||(0,u.ncU)(),b("view_share_trend_main"),()=>{(0,u.mGz)()}),[]),c.useEffect(()=>{C?I():m([])},[C]);let I=async()=>{try{let n=await (0,u.N$v)();n.data.data&&Array.isArray(n.data.data.shareChatIdList)&&m(n.data.data.shareChatIdList)}catch(n){}},k=n=>{w("page","".concat(n))},y=c.useMemo(()=>Math.floor((r-1)/20),[r]),A=c.useMemo(()=>null!==(e=_.get("category"))&&void 0!==e?e:"",[_]),R=c.useMemo(()=>null!==(t=_.get("keyword"))&&void 0!==t?t:"",[_]),O=c.useMemo(()=>(!A||["latest","popular"].includes(A))&&(!R||""===R),[A,R]),T=c.useMemo(()=>["latest","popular",""].includes(A),[A]);return(0,o.jsxs)(eV,{children:[(0,o.jsx)(eP,{}),(0,o.jsx)(n1,{}),O&&(0,o.jsx)(e$,{children:(0,o.jsx)(nH,{title:"뤼튼 인싸이트"})}),!v&&O&&(0,o.jsx)(e$,{children:(0,o.jsx)(et,{title:"latest"===A?"최신 #이미지생성":"인기 #이미지생성",images:a})}),(0,o.jsx)(eW,{children:v?(0,o.jsx)(h.$,{width:22,height:22,color:p.O9T.PURPLE_500_PRIMARY}):(0,o.jsxs)(o.Fragment,{children:["challenge"===A&&(0,o.jsx)(ed,{challenges:x,imageMap:f}),"my"===A&&(0,o.jsx)(eh,{}),"mylikes"===A&&(0,o.jsx)(ew,{}),"bookmark"===A&&(0,o.jsx)(ev,{}),T&&(0,o.jsx)(o.Fragment,{children:i.map(n=>(0,o.jsx)(B,{chat:n},n.shareId))}),(T&&0===i.length||"challenge"===A&&0===x.length)&&(0,o.jsx)(eF,{children:"검색된 채팅이 없습니다."})]})}),(0,o.jsx)(eJ,{children:!v&&T&&(0,o.jsx)(ni,{currentIndex:Number(d),maxIndex:Number(y),handlePage:k})})]})}let eV=a()(p.A09).withConfig({componentId:"sc-70cfbb40-0"})(eL()),eW=a()(p.A09).withConfig({componentId:"sc-70cfbb40-1"})(eM()),eJ=a()(p.A09).withConfig({componentId:"sc-70cfbb40-2"})(eD()),eF=a().div.withConfig({componentId:"sc-70cfbb40-3"})(eB(),(0,p.f3b)({weight:600,size:"16px",height:"180%",color:"#A1A5B9"})),e$=a().div.withConfig({componentId:"sc-70cfbb40-4"})(eH());var eN=t(40259),eX=t.n(eN),eK=t(27860),eq=t.n(eK),eQ=t(23521),e0=t(89360),e1=t.n(e0),e2=t(1),e9=t(87387),e5=t(97945);function e8(){let n=(0,r._)(["\n  max-width: 766px;\n  width: 100%;\n  gap: 8px;\n  margin-bottom: 20px;\n\n  ","\n  ","\n  ","\n"]);return e8=function(){return n},n}function e4(){let n=(0,r._)(["\n  max-width: 100%;\n\n  position: relative;\n"]);return e4=function(){return n},n}function e6(){let n=(0,r._)(["\n  ",";\n  color: ",";\n\n  max-width: 100%;\n  overflow-x: hidden;\n  flex: 1;\n\n  text-align: left;\n\n  @media (max-width: 768px) {\n    ",";\n  }\n"]);return e6=function(){return n},n}function e7(){let n=(0,r._)(["\n  padding: 0px;\n  margin: 0px;\n\n  width: ","px;\n  height: ","px;\n\n  @media (max-width: 425px) {\n    width: ","px;\n    height: ","px;\n  }\n\n  background: none;\n  border: none;\n\n  cursor: pointer;\n\n  svg {\n    width: 100%;\n    height: 100%;\n\n    transform: ",";\n\n    path {\n      fill: ",";\n    }\n  }\n\n  &:hover {\n    svg {\n      path {\n        fill: ",";\n      }\n    }\n  }\n"]);return e7=function(){return n},n}let e3=e1()(e9.A0).withConfig({componentId:"sc-98813687-0"})(e8(),n=>n.isSelectMode&&"cursor: pointer;",n=>n.isPairFirstMessage&&"gap: 40px;",n=>n.isSelectMode&&!n.isSelected&&"opacity: 0.7;"),tn=e1().div.withConfig({componentId:"sc-98813687-1"})(e4()),te=e1().div.withConfig({componentId:"sc-98813687-2"})(e6(),(0,e9.bV)("ex_180-16-med"),e9.O9.GRAY_800,(0,e9.bV)("160-15-med")),tt=e1()(e9.CY).attrs({size:20}).withConfig({componentId:"sc-98813687-3"})(e7(),n=>{let{size:e}=n;return e},n=>{let{size:e}=n;return e},n=>{let{size:e}=n;return e-4},n=>{let{size:e}=n;return e-4},n=>{let{reverse:e}=n;return e?"rotate(180deg)":"rotate(0deg)"},n=>{let{baseColor:e}=n;return e||e9.O9.GRAY_300},e9.O9.PURPLE_500_PRIMARY);function ti(){let n=(0,r._)(["\n        ",";\n      "]);return ti=function(){return n},n}let tr=n=>{let{error:e}=n;return(0,o.jsxs)(te,{style:{display:"flex",flexDirection:"row",gap:"8px",alignItems:"center"},children:["warning"===e.type&&(0,o.jsx)(e2.aQ,{}),"error"===e.type&&(0,o.jsx)(e2.Ucq,{}),(0,o.jsx)(to,{color:e9.O9.GRAY_600,children:e.message})]})};var to=e1()(e5.Dr).withConfig({componentId:"sc-e80539aa-0"})(ti(),(0,e9.bV)("ex_180-16-med")),tc=t(91316),tl=t(96475),ts=t(22103);function td(){let n=(0,r._)(["\n  width: 100%;\n\n  padding-bottom: 16px;\n  border-bottom: 1px solid ",";\n"]);return td=function(){return n},n}function ta(){let n=(0,r._)(["\n  max-width: 36px;\n  height: 22px;\n  svg {\n    height: 22px;\n    display: block;\n    margin: 0 auto;\n    text-align: center;\n    g {\n      transform-origin: center center;\n    }\n  }\n"]);return ta=function(){return n},n}function tu(){let n=(0,r._)(["\n  ","\n  color : ","\n"]);return tu=function(){return n},n}function tp(){let n=(0,r._)(["\n  position: relative;\n  padding: 3px;\n\n  border-radius: 5px;\n\n  #popup {\n    display: none;\n  }\n\n  &:hover {\n    background-color: ",";\n    cursor: pointer;\n\n    #popup {\n      display: block;\n    }\n  }\n"]);return tp=function(){return n},n}function th(){let n=(0,r._)(["\n  position: absolute;\n\n  left: 50%;\n  transform: translateX(-20%);\n  bottom: -25px;\n\n  background-color: ",";\n\n  border-radius: 5px;\n  ","\n\n  padding:4px 9px;\n  color: ",";\n  ","\n  white-space: nowrap;\n"]);return th=function(){return n},n}let tx=n=>{let{toolInfo:e}=n,{allToolList:t}=(0,u.r7_)(),i=c.useMemo(()=>t.find(n=>n._id===e.toolId),[t,e]);return(0,o.jsxs)(tm,{children:[(0,o.jsx)(tw,{children:tc.VE[e.icon]}),(0,o.jsx)(e9.Vp,{color:u.RuJ[e.tag].color,children:u.RuJ[e.tag].name}),(0,o.jsx)(t_,{style:{marginRight:8},children:e.name}),(0,o.jsx)(ts._,{provider:(null==i?void 0:i.provider)||""})]})},tf=n=>{let{reference:e}=n;return(0,o.jsxs)(tm,{style:{gap:8},children:[(0,o.jsx)(t_,{children:"출처 및 참고"}),(0,o.jsxs)(tb,{children:[(0,o.jsx)(tl.J,{icon:"question-circle",size:20,color:e9.O9.GRAY_500}),(0,o.jsx)(tj,{id:"popup",children:"페이지가 잘못 표기될 경우 우하단의 엄지 아이콘으로 알려주세요."})]}),e.map((n,e)=>(0,o.jsxs)(t_,{children:["p",n]},e.toString()))]})},tg={Tool:tx,File:tf},tm=e1()(e9.A0).withConfig({componentId:"sc-91cfbe5e-0"})(td(),e9.O9.GRAY_200),tw=e1()(e9.A0).withConfig({componentId:"sc-91cfbe5e-1"})(ta()),t_=e1().span.withConfig({componentId:"sc-91cfbe5e-2"})(tu(),(0,e9.bV)("100-14-semi"),e9.O9.GRAY_500),tb=e1()(e9.CY).withConfig({componentId:"sc-91cfbe5e-3"})(tp(),e9.O9.GRAY_000),tj=e1().div.withConfig({componentId:"sc-91cfbe5e-4"})(th(),e9.O9.GRAY_700,e9.Wn.popup_shadow,e9.O9.WHITE,(0,e9.bV)("100-12-semi"));function tv(){let n=(0,r._)(["\n  gap: 30px;\n  width: 100%;\n"]);return tv=function(){return n},n}function tC(){let n=(0,r._)(["\n  flex-direction: row;\n  width: 100%;\n  border-radius: 5px;\n  cursor: pointer;\n  background: white;\n  height: 92px;\n  overflow: hidden;\n\n  @media (max-width: 767px) {\n    height: 50px;\n  }\n"]);return tC=function(){return n},n}function tI(){let n=(0,r._)(["\n  width: 150px;\n  height: 100%;\n  background: ",";\n  border-radius: inherit;\n\n  @media (max-width: 767px) {\n    width: 80px;\n  }\n\n  > img {\n    width: 100%;\n    height: 100%;\n  }\n"]);return tI=function(){return n},n}function tk(){let n=(0,r._)(["\n  flex-direction: column;\n  align-items: self-start;\n  align-self: baseline;\n  flex: 1;\n  padding: 13px 17px 12px 17px;\n  justify-content: space-between;\n  height: 100%;\n  @media (max-width: 767px) {\n    margin: 5px;\n  }\n"]);return tk=function(){return n},n}function ty(){let n=(0,r._)(["\n  padding: 0 5px;\n\n  ",";\n  color: ",";\n  &:hover {\n    text-decoration: underline;\n  }\n\n  @media (max-width: 767px) {\n    ",";\n  }\n"]);return ty=function(){return n},n}function tA(){let n=(0,r._)(["\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n  ",";\n  color: ",";\n"]);return tA=function(){return n},n}function tR(){let n=(0,r._)([""]);return tR=function(){return n},n}function tO(){let n=(0,r._)([""]);return tO=function(){return n},n}let tT=n=>{var e;let{messages:t}=n,{data:i}=(0,u.LIx)(),r=null==i?void 0:i.data.find(n=>n.newsId===t.newsId),c=null==r?void 0:r.news[0],l=(null==c?void 0:null===(e=c.bigKindsDocument)||void 0===e?void 0:e.images.split(/\n/))||[],s=n=>{window.open(n,"_blank","noopener noreferrer")};return c?(0,o.jsx)(tY,{row:!0,align:"flex-start",justify:"center",children:(0,o.jsxs)(tE,{onClick:()=>s(c.bigKindsDocument.providerLinkPage),children:[(0,o.jsx)(tP,{children:(0,o.jsx)("img",{src:"https://www.bigkinds.or.kr/resources/images".concat(l[0]),alt:c.bigKindsDocument.title})}),(0,o.jsxs)(tG,{children:[(0,o.jsx)(tS,{children:c.bigKindsDocument.title}),(0,o.jsxs)(tz,{children:[(0,o.jsx)(tU,{children:c.bigKindsDocument.provider}),(0,o.jsx)(tL,{children:eq()(c.bigKindsDocument.envelopedAt).format("YYYY-MM-DD")})]})]})]},c.bigKindsDocument.providerLinkPage)}):(0,o.jsx)(tY,{row:!0,align:"flex-start",justify:"center",children:(0,o.jsx)(tE,{})})},tY=e1()(e9.A0).withConfig({componentId:"sc-a3af939c-0"})(tv()),tE=e1()(e9.A0).withConfig({componentId:"sc-a3af939c-1"})(tC()),tP=e1().div.withConfig({componentId:"sc-a3af939c-2"})(tI(),e9.O9.PURPLE_500_PRIMARY),tG=e1()(e9.A0).withConfig({componentId:"sc-a3af939c-3"})(tk()),tS=e1().div.withConfig({componentId:"sc-a3af939c-4"})(ty(),(0,e9.bV)("160-16-semi"),e9.O9.GRAY_800,(0,e9.bV)("160-14-semi")),tz=e1().div.withConfig({componentId:"sc-a3af939c-5"})(tA(),(0,e9.bV)("100-14-med"),e9.O9.GRAY_500),tU=e1().div.withConfig({componentId:"sc-a3af939c-6"})(tR()),tL=e1().div.withConfig({componentId:"sc-a3af939c-7"})(tO());function tM(){let n=(0,r._)(["\n  gap: 8px;\n"]);return tM=function(){return n},n}function tD(){let n=(0,r._)(["\n  cursor: pointer;\n  &:disabled {\n    cursor: not-allowed;\n  }\n"]);return tD=function(){return n},n}function tB(){let n=(0,r._)(["\n  ","\n  color: ",";\n\n  b {\n    color: ",";\n    font-weight: 500;\n  }\n  @media (max-width: 767px) {\n    ","\n  }\n"]);return tB=function(){return n},n}let tH=n=>{let{type:e,nextSlide:t,prevSlide:i,currentSlide:r,slideCount:c}=n;return(0,o.jsxs)(tZ,{type:e,children:[(0,o.jsx)(tV,{onClick:i,disabled:0===r,children:(0,o.jsx)(tl.J,{icon:"angle-left",size:18,color:0!==r?e9.O9.GRAY_500:e9.O9.GRAY_200})}),(0,o.jsxs)(tW,{children:[(0,o.jsx)("b",{children:r+1})," / ",c]}),(0,o.jsx)(tV,{onClick:t,disabled:r+1===c,children:(0,o.jsx)(tl.J,{icon:"angle-right",size:18,color:r+1<c?e9.O9.GRAY_500:e9.O9.GRAY_200})})]})},tZ=e1()(e9.A0).withConfig({componentId:"sc-d98953a5-0"})(tM()),tV=e1()(e9.CY).withConfig({componentId:"sc-d98953a5-1"})(tD()),tW=e1().span.withConfig({componentId:"sc-d98953a5-2"})(tB(),(0,e9.bV)("100-13-med"),e9.O9.GRAY_500,e9.O9.GRAY_700,(0,e9.bV)("100-12-semi"));var tJ=t(62907),tF=t(97485),t$=t(17362),tN=t(5581),tX=t(7448),tK=t(79297),tq=t(86187),tQ=t(9576),t0=t(50877),t1=t(17846),t2=t(84031),t9=t(41885),t5=t(10556),t8=t(27635),t4=t(4247),t6=t(35207),t7=t(40856),t3=t(26146),ie=t(88955),it=t(81387),ii=t(51137),ir=t(57609),io=t(59003),ic=t(98923),il=t(32254),is=t(42959),id=t(78241),ia=t(11968),iu=t(54187),ip=t(22907),ih=t(75502),ix=t(94381),ig=t(89715),im=t(37168),iw=t(86951),i_=t(68581),ib=t(63120),ij=t(95894),iv=t(94624),iC=t(28964),iI=t(48118),ik=t(95941),iy=t(36647),iA=t(62677),iR=t(34310),iO=t(59340),iT=t(78632),iY=t(86768),iE=t(54387);let iP="[CustomText]",iG=n=>n.includes(iP),iS=n=>n.replace(iP,"");function iz(){let n=(0,r._)(["\n  width: 100%;\n  border-radius: 8px;\n  overflow: hidden;\n  margin: 24px 0px;\n"]);return iz=function(){return n},n}function iU(){let n=(0,r._)(["\n  width: 100%;\n\n  ","\n  color: ",";\n\n  background: ",";\n  padding: 10px 16px;\n"]);return iU=function(){return n},n}function iL(){let n=(0,r._)(["\n  cursor: pointer;\n\n  width: 20px;\n  height: 20px;\n\n  path {\n    fill: ",";\n  }\n"]);return iL=function(){return n},n}function iM(){let n=(0,r._)(["\n  p {\n    display: inline;\n  }\n"]);return iM=function(){return n},n}function iD(){let n=(0,r._)(["\n  p {\n    display: inline;\n  }\n"]);return iD=function(){return n},n}function iB(){let n=(0,r._)(["\n  margin-top: 2rem;\n  margin-bottom: 4px;\n  ",";\n\n  @media (max-width: 425px) {\n    ",";\n  }\n"]);return iB=function(){return n},n}function iH(){let n=(0,r._)(["\n  margin-top: 1.4rem;\n  margin-bottom: 1px;\n  ",";\n\n  @media (max-width: 425px) {\n    ",";\n  }\n"]);return iH=function(){return n},n}function iZ(){let n=(0,r._)(["\n  margin-top: 1rem;\n  margin-bottom: 1px;\n  ",";\n  @media (max-width: 425px) {\n    ",";\n  }\n"]);return iZ=function(){return n},n}function iV(){let n=(0,r._)(["\n  line-height: 180%;\n"]);return iV=function(){return n},n}function iW(){let n=(0,r._)(["\n  line-height: 180%;\n"]);return iW=function(){return n},n}function iJ(){let n=(0,r._)(["\n  line-height: 180%;\n"]);return iJ=function(){return n},n}function iF(){let n=(0,r._)(["\n  0% { background-color: ","; }\n  80% { background-color: white; }\n  100% { background-color: ","; }\n"]);return iF=function(){return n},n}function i$(){let n=(0,r._)(["\n  display: inline-block;\n  width: 0.4rem;\n  height: 1.1rem;\n"]);return i$=function(){return n},n}function iN(){let n=(0,r._)(["\n  position: relative;\n  top: 3px;\n  left: -4.5px;\n  height: 100%;\n  background-color: black;\n  margin-left: 4.5px;\n  animation: "," 1s ease infinite;\n"]);return iN=function(){return n},n}let iX=[{key:"apache",language:tX.Z},{key:"armasm",language:tK.Z},{key:"bash",language:tq.Z},{key:"c",language:tQ.Z},{key:"coffeescript",language:t0.Z},{key:"cpp",language:t1.Z},{key:"csharp",language:t2.Z},{key:"css",language:t9.Z},{key:"d",language:t5.Z},{key:"diff",language:t8.Z},{key:"go",language:t4.Z},{key:"handlebars",language:t6.Z},{key:"haskell",language:t7.Z},{key:"http",language:t3.Z},{key:"ini",language:ie.Z},{key:"java",language:it.Z},{key:"javascript",language:ii.Z},{key:"json",language:ir.Z},{key:"julia",language:io.Z},{key:"kotlin",language:ic.Z},{key:"less",language:il.Z},{key:"lua",language:is.Z},{key:"makefile",language:id.Z},{key:"markdown",language:ia.Z},{key:"nginx",language:iu.Z},{key:"objectivec",language:ip.Z},{key:"perl",language:ih.Z},{key:"php",language:ix.Z},{key:"plaintext",language:ig.Z},{key:"properties",language:im.Z},{key:"python",language:iw.Z},{key:"r",language:i_.Z},{key:"ruby",language:ib.Z},{key:"rust",language:ij.Z},{key:"scala",language:iv.Z},{key:"scss",language:iC.Z},{key:"shell",language:iI.Z},{key:"sql",language:ik.Z},{key:"swift",language:iy.Z},{key:"typescript",language:iA.Z},{key:"x86asm",language:iR.Z},{key:"xml",language:iO.Z},{key:"yaml",language:iT.Z}];iX.forEach(n=>{tN.Z.registerLanguage(n.key,n.language)});let iK=n=>{let{inline:e,className:t,...i}=n,r=(0,tF.useAlert)(),c=(0,tJ.useTranslations)(),l=n=>{let e=n.currentTarget.parentElement.nextElementSibling.textContent;window.navigator.clipboard.writeText(e),r.removeAll(),r.show(c("common.copy_message"))},s=/language-(\w+)/.exec(t||"");return e?(0,o.jsx)("code",{style:{whiteSpace:"break-spaces"},...i}):(0,o.jsxs)(i0,{children:[(0,o.jsxs)(i1,{justify:"space-between",children:[(0,o.jsx)("div",{children:s&&(null==s?void 0:s.length)>1?s[1]:""}),(0,o.jsx)(i2,{onClick:l})]}),(0,o.jsx)(tN.Z,{style:iY.Z,language:s&&(null==s?void 0:s.length)>1?s[1]:"javascript",highlighter:"hljs",customStyle:{whiteSpace:"pre-wrap",padding:"10px 16px"},children:i.children.toString().replace("[CustomText]","")})]})},iq=n=>{let{text:e,type:t,isUser:i,chatId:r,messageId:c,model:l}=n,{collectEvent:s}=(0,u.zX9)();return(0,o.jsx)(t$.D,{remarkPlugins:[iE.Z],components:{code:iK,p:n=>{let{...e}=n;if(Array.isArray(e.children)){let[n]=e.children;if("string"==typeof n&&iG(n))return(0,o.jsxs)("p",{style:{display:"inline",whiteSpace:"pre-wrap",lineHeight:"180%"},...e,children:[iS(n),(0,o.jsx)(rt,{children:(0,o.jsx)(ri,{})})]})}return(0,o.jsx)("p",{style:{whiteSpace:"pre-wrap",lineHeight:"180%"},...e})},li:n=>{let{...e}=n;if(Array.isArray(e.children)&&"string"==typeof e.children[0]){let[n]=e.children;if(iG(n))return(0,o.jsxs)("li",{...e,children:[iS(n),(0,o.jsx)(rt,{children:(0,o.jsx)(ri,{})})]})}return(0,o.jsx)("li",{...e})},ul:n=>{let{...e}=n;return(0,o.jsx)(i9,{style:{listStylePosition:"outside",listStyleType:"disc",paddingLeft:"20px",marginBottom:"10px"},...e})},ol:n=>{let{...e}=n;return(0,o.jsx)(i5,{style:{listStylePosition:"inside",marginBottom:"10px"},...e})},a:n=>{let{...e}=n;return(0,o.jsx)("a",{...e,style:{color:i?e9.O9.WHITE:e9.O9.PURPLE_600_BRAND,textDecoration:"underline",lineHeight:"180%"},target:"_blank",onClick:()=>{s("track_chat_url",{mode_name:"PluginOutput"===t?"검색":"일반",url:(null==e?void 0:e.href)||"",chat_id:r,msg_id:c,model_name:l})}})},table:n=>{let{...e}=n;return(0,o.jsx)("table",{...e,style:{background:"white",border:"1px solid #D1D7ED",margin:"8px 0",borderCollapse:"collapse",lineHeight:"180%"}})},tr:n=>{let{...e}=n;return(0,o.jsx)("tr",{...e,style:{padding:"8px",borderBottom:"1px solid #D1D7ED"}})},th:n=>{let{...e}=n;return(0,o.jsx)("th",{...e,style:{padding:"4px 8px",backgroundColor:"rgba(55, 132, 246, 0.3)",fontWeight:"600",lineHeight:"180%",textAlign:"left",color:e9.O9.GRAY_700}})},td:n=>{let{...e}=n;if(Array.isArray(e.children)&&"string"==typeof e.children[0]){let[n]=e.children;if(iG(n))return(0,o.jsxs)("td",{...e,style:{padding:"4px 8px",fontWeight:"500",lineHeight:"180%",textAlign:"left",color:e9.O9.GRAY_700},children:[iS(n),(0,o.jsx)(rt,{children:(0,o.jsx)(ri,{})})]})}return(0,o.jsx)("td",{...e,style:{padding:"4px 8px",fontWeight:"500",lineHeight:"180%",textAlign:"left",color:e9.O9.GRAY_700}})},h1:n=>{let{...e}=n;return(0,o.jsx)(i8,{...e})},h2:n=>{let{...e}=n;return(0,o.jsx)(i4,{...e})},h3:n=>{let{...e}=n;return(0,o.jsx)(i6,{...e})},h4:n=>{let{...e}=n;return(0,o.jsx)(i7,{...e})},h5:n=>{let{...e}=n;return(0,o.jsx)(i3,{...e})},h6:n=>{let{...e}=n;return(0,o.jsx)(rn,{...e})},strong:n=>{let{...e}=n;return(0,o.jsx)("strong",{style:{fontWeight:"600",marginTop:"ToolInput"===t?"4px":0},...e})},blockquote:n=>{let{...e}=n;return(0,o.jsx)("blockquote",{...e,style:{...e.style,paddingLeft:"16px",borderLeft:"2px solid ".concat(e9.O9.GRAY_700),color:e9.O9.GRAY_600}})}},children:e})},iQ={Wrapper:c.memo(iq),code:iK},i0=e1().div.withConfig({componentId:"sc-7b8646e0-0"})(iz()),i1=e1()(e9.A0).withConfig({componentId:"sc-7b8646e0-1"})(iU(),(0,e9.bV)("100-15-semi"),e9.O9.WHITE,e9.O9.GRAY_800),i2=e1()(e2.vUr).withConfig({componentId:"sc-7b8646e0-2"})(iL(),e9.O9.WHITE),i9=e1().ul.withConfig({componentId:"sc-7b8646e0-3"})(iM()),i5=e1().ol.withConfig({componentId:"sc-7b8646e0-4"})(iD()),i8=e1().h1.withConfig({componentId:"sc-7b8646e0-5"})(iB(),(0,e9.bV)("ex_180-30-semi"),(0,e9.bV)("ex_180-28-semi")),i4=e1().h2.withConfig({componentId:"sc-7b8646e0-6"})(iH(),(0,e9.bV)("ex_180-24-semi"),(0,e9.bV)("ex_180-22-semi")),i6=e1().h3.withConfig({componentId:"sc-7b8646e0-7"})(iZ(),(0,e9.bV)("ex_180-20-semi"),(0,e9.bV)("ex_180-18-semi")),i7=e1().h4.withConfig({componentId:"sc-7b8646e0-8"})(iV()),i3=e1().h5.withConfig({componentId:"sc-7b8646e0-9"})(iW()),rn=e1().h6.withConfig({componentId:"sc-7b8646e0-10"})(iJ()),re=(0,e0.keyframes)(iF(),e9.O9.PURPLE_500_PRIMARY,e9.O9.PURPLE_500_PRIMARY),rt=e1().div.withConfig({componentId:"sc-7b8646e0-11"})(i$()),ri=e1().div.withConfig({componentId:"sc-7b8646e0-12"})(iN(),re);function rr(){let n=(0,r._)(["\n  display: flex;\n"]);return rr=function(){return n},n}function ro(){let n=(0,r._)(["\n  ",";\n  color: ",";\n"]);return ro=function(){return n},n}function rc(){let n=(0,r._)(["\n  0% { background-color: ","; }\n  80% { background-color: white; }\n  100% { background-color: ","; }\n"]);return rc=function(){return n},n}function rl(){let n=(0,r._)(["\n  display: inline-block;\n  width: 0.4rem;\n  height: 1.1rem;\n"]);return rl=function(){return n},n}function rs(){let n=(0,r._)(["\n  position: relative;\n  top: ",";\n  height: 100%;\n  background-color: black;\n  margin-left: 4.5px;\n  animation: "," 1s ease infinite;\n"]);return rs=function(){return n},n}let rd=["1","4","8","12","16","30"],ra=n=>{let{isStreaming:e,message:t,streamContent:r,service:l}=n,s=(0,tJ.useTranslations)("ui.chat_delay_message"),d={1:s("1"),4:s("4"),8:s("8"),12:s("12"),16:s("16"),30:s("30")},a=e&&r&&r.length>0,p=t.content&&t.content.length>0,h=a?r:p?t.content:!t.content&&r?r:"",x=c.useRef(0),{collectEvent:f}=(0,u.zX9)(),[g,m]=c.useState(0),[w,_]=c.useState("");return(c.useEffect(()=>{if(!e)return;i&&clearInterval(i);let n=setInterval(()=>{x.current+=1,rd.includes(x.current.toString())&&(m(0),_(d[x.current]),h||f("expose_wait_phrase_generate",{step:rd.indexOf(x.current.toString())+1,chat_id:t.chatId})),x.current>30&&clearInterval(n)},1e3);return i=setInterval(()=>{if(g>w.length||h){clearInterval(i);return}m(n=>n+1)},30),()=>{clearInterval(n),clearInterval(i)}},[g,h]),"NewsInfoOutput"===t.type)?null:(0,o.jsxs)(te,{children:[!!e&&h.length<1&&(0,o.jsxs)(ru,{children:[(0,o.jsx)(rp,{children:w.slice(0,g)}),(0,o.jsx)(rx,{children:(0,o.jsx)(rf,{initial:!w})})]}),"chat"===l?(0,o.jsx)(iQ.Wrapper,{text:h,type:t.type,chatId:t.chatId||"",messageId:t._id,model:t.model}):(0,o.jsx)(iQ.Wrapper,{text:t.content,type:t.type,chatId:t.chatId||"",messageId:t._id,model:t.model})]})},ru=e1().div.withConfig({componentId:"sc-1d3c6c69-0"})(rr()),rp=e1().p.withConfig({componentId:"sc-1d3c6c69-1"})(ro(),(0,e9.bV)("ex_180-15-med"),e9.O9.GRAY_600),rh=(0,e0.keyframes)(rc(),e9.O9.PURPLE_500_PRIMARY,e9.O9.PURPLE_500_PRIMARY),rx=e1().div.withConfig({componentId:"sc-1d3c6c69-2"})(rl()),rf=e1().div.withConfig({componentId:"sc-1d3c6c69-3"})(rs(),n=>{let{initial:e}=n;return e?"0px":"5px"},rh);function rg(){let n=(0,r._)(["\n  width: 100%;\n\n  border-radius: 5px;\n  overflow: hidden;\n\n  position: relative;\n\n  height: 185.97px;\n\n  @media (max-width: 767px) {\n    height: 120px;\n  }\n  @media (max-width: 480px) {\n    height: 100px;\n  }\n"]);return rg=function(){return n},n}function rm(){let n=(0,r._)(["\n  width: 100%;\n  height: 100%;\n\n  object-fit: cover;\n\n  background-color: transparent;\n"]);return rm=function(){return n},n}function rw(){let n=(0,r._)(["\n  width: 100%;\n  height: 100%;\n\n  padding: 10px 13px 12px;\n  opacity: 0;\n\n  background: linear-gradient(\n    180deg,\n    rgba(0, 0, 0, 0.8) 0%,\n    rgba(0, 0, 0, 0) 29.37%,\n    rgba(0, 0, 0, 0) 72.37%,\n    rgba(0, 0, 0, 0.8) 100%\n  );\n\n  position: absolute;\n\n  top: 0px;\n  left: 0px;\n\n  &:hover {\n    opacity: 1;\n  }\n"]);return rw=function(){return n},n}let r_=n=>{let{img:e,openModal:t,imageFooterComponent:i}=n;return(0,o.jsxs)(rb,{children:[(0,o.jsx)(rj,{src:e.url,alt:"ai generated"}),(0,o.jsxs)(rv,{column:!0,align:"flex-start",children:[(0,o.jsx)(tt,{baseColor:e9.O9.WHITE,onClick:()=>t(e.url),children:(0,o.jsx)(tl.J,{icon:"arrows-maximize",size:20,color:e9.O9.WHITE,hoverColor:e9.O9.PURPLE_400})}),(0,o.jsx)(e9.LZ,{}),i&&i]})]})},rb=e1().div.withConfig({componentId:"sc-d6478010-0"})(rg()),rj=e1().img.withConfig({componentId:"sc-d6478010-1"})(rm()),rv=e1()(e9.A0).withConfig({componentId:"sc-d6478010-2"})(rw());function rC(){let n=(0,r._)(["\n  width: 100%;\n\n  display: grid;\n  grid-row: auto auto;\n  grid-column: 164px;\n  grid-gap: 13.5px 14px;\n  grid-template-columns: 1fr 1fr;\n\n  @media (max-width: 767px) {\n    grid-template-columns: 1fr;\n  }\n"]);return rC=function(){return n},n}let rI=n=>{let{image:e,openModal:t,imageFooterComponent:i}=n;return(0,o.jsx)(rk,{children:e.imageUrls.map((n,e)=>(0,o.jsx)(r_,{img:n,imageFooterComponent:i?i(e):void 0,openModal:t},n.url))})},rk=e1().div.withConfig({componentId:"sc-5ae164fa-0"})(rC());var ry=t(27522),rA=t(7271);function rR(){let n=(0,r._)(["\n  overflow: hidden;\n  padding: 10px 10.5px 20px;\n\n  border: 1px solid ",";\n  border-radius: 20px;\n  background-color: ",";\n\n  ","\n\n  max-width: 766px;\n  max-height: 90vh;\n\n  @media (max-width: 767px) {\n    min-width: 0px;\n    width: 90vw;\n    max-width: 90vw;\n  }\n  @media (max-width: 480px) {\n    min-width: 0px;\n    width: 95vw;\n    max-width: 95vw;\n  }\n"]);return rR=function(){return n},n}function rO(){let n=(0,r._)(["\n  position: absolute;\n  top: 24px;\n  right: 24px;\n\n  width: 40px;\n  height: 40px;\n\n  background-color: ",";\n  border-radius: 50%;\n\n  z-index: 2;\n  cursor: pointer;\n\n  @media (max-width: 480px) {\n    width: 20px;\n    height: 20px;\n  }\n"]);return rO=function(){return n},n}function rT(){let n=(0,r._)(["\n  width: 100%;\n  border-radius: 20px 20px 0px 0px;\n  min-height: 421px;\n  overflow: hidden;\n"]);return rT=function(){return n},n}function rY(){let n=(0,r._)(["\n  width: 100%;\n  height: 100%;\n  padding-bottom: 44px;\n"]);return rY=function(){return n},n}function rE(){let n=(0,r._)(["\n  width: 100%;\n  min-height: 100%;\n"]);return rE=function(){return n},n}function rP(){let n=(0,r._)(["\n  width: 100%;\n  gap: 12px;\n  padding: 1px 14px;\n\n  position: absolute;\n  bottom: 20px;\n  left: 0;\n\n  background-color: ",";\n"]);return rP=function(){return n},n}let rG=n=>{var e;let{contents:t,allImages:i,initialIndex:r,closeChatImageModal:l,imageFooterComponent:s}=n,d=(0,u.dD4)();(0,u.Kro)("Escape",l);let[a,p]=c.useState(r),h=i[a],x=t.find(n=>{var e;return null===(e=n.image)||void 0===e?void 0:e.imageUrls.find(n=>n.url===h.url)}),f=null==x?void 0:null===(e=x.image)||void 0===e?void 0:e.imageUrls.findIndex(n=>n.url===h.url);return(0,o.jsx)(rA.H,{onClose:l,children:(0,o.jsxs)(rS,{column:!0,children:[(0,o.jsx)(rU,{children:(0,o.jsx)(ry.ZP,{renderCenterLeftControls:null,renderCenterRightControls:null,renderBottomCenterControls:n=>(0,o.jsx)(tH,{type:"image",currentSlide:n.currentSlide,slideCount:n.slideCount,nextSlide:n.nextSlide,prevSlide:n.previousSlide}),afterSlide:n=>p(n),slideIndex:r,children:i.map(n=>(0,o.jsx)(rL,{children:(0,o.jsx)(rM,{src:n.url,alt:"generated_image"})},n.url))})}),(0,o.jsx)(rz,{onClick:l,children:(0,o.jsx)(tl.J,{icon:"multiply",size:d?15:20,color:e9.O9.GRAY_700})}),(0,o.jsxs)(rD,{justify:"center",children:[(0,o.jsx)(e9.LZ,{}),s&&x&&"number"==typeof f?s(x,f):null]})]})})},rS=e1()(e9.A0).withConfig({componentId:"sc-f8b63071-0"})(rR(),e9.O9.GRAY_200,e9.O9.BLUE_300_BG,e9.Wn.tooltip_message_shadow),rz=e1()(e9.CY).withConfig({componentId:"sc-f8b63071-1"})(rO(),e9.O9.WHITE),rU=e1().div.withConfig({componentId:"sc-f8b63071-2"})(rT()),rL=e1()(e9.A0).withConfig({componentId:"sc-f8b63071-3"})(rY()),rM=e1().img.withConfig({componentId:"sc-f8b63071-4"})(rE()),rD=e1()(e9.A0).withConfig({componentId:"sc-f8b63071-5"})(rP(),e9.O9.BLUE_300_BG),rB=n=>{let{contents:e}=n,[t,i]=c.useState(!1),[r,o]=c.useState(0),l=c.useMemo(()=>e.reduce((n,e)=>e.image&&e.image.imageUrls.length>0?[...n,...e.image.imageUrls]:n,[]),[e]),s=c.useCallback(n=>n.reduce((n,e)=>[...n,...e],[]),[]),d=c.useCallback(n=>{let t=-1,i=-1,r="";return e.forEach((e,o)=>{e.image&&e.image.imageUrls.forEach((c,l)=>{c.url===n&&(t=o,i=l,e.image&&(r=e.image._id))})}),{contentIndex:t,imageIndex:i,imageId:r}},[e]),a=c.useCallback(async(n,e,t)=>{let{contentIndex:i,imageIndex:r,imageId:o}=d(e);-1===i||-1===r||o.length<1||await t(n,o,i,r)},[]),u=c.useCallback(n=>{i(!0),o(l.findIndex(e=>e.url===n)||0)},[l]),p=c.useCallback(()=>{i(!1),o(0)},[]);return{isModalOpen:t,initialIndex:r,allImages:l,getEvaluationParamData:d,modalClickImageEval:a,flattenImageEvalList:s,openModal:u,closeModal:p}};function rH(){let n=(0,r._)(["\n  width: 100%;\n\n  justify-content: flex-end;\n  align-items: flex-end;\n\n  flex-wrap: wrap;\n\n  gap: 12px;\n\n  @media (max-width: 767px) {\n    gap: 7px;\n  }\n"]);return rH=function(){return n},n}function rZ(){let n=(0,r._)(["\n  width: 342px;\n  max-width: 100%;\n\n  overflow: hidden;\n\n  border-radius: 10px;\n\n  @media (max-width: 767px) {\n    width: 307px;\n    max-height: 184px;\n  }\n"]);return rZ=function(){return n},n}function rV(){let n=(0,r._)(["\n  width: 342px;\n  max-width: 100%;\n  height: 342px;\n\n  overflow: hidden;\n\n  border-radius: 10px;\n\n  @media (max-width: 767px) {\n    width: 150px;\n    height: 150px;\n  }\n"]);return rV=function(){return n},n}function rW(){let n=(0,r._)(["\n  width: 100%;\n  height: 100%;\n\n  object-fit: cover;\n"]);return rW=function(){return n},n}function rJ(){let n=(0,r._)(["\n  width: 100%;\n  height: 100%;\n\n  padding: 12px;\n  opacity: 0;\n\n  background: linear-gradient(\n    180deg,\n    rgba(0, 0, 0, 0.8) 0%,\n    rgba(0, 0, 0, 0) 29.37%,\n    rgba(0, 0, 0, 0) 72.37%,\n    rgba(0, 0, 0, 0.8) 100%\n  );\n\n  position: absolute;\n\n  top: 0px;\n  left: 0px;\n\n  &:hover {\n    opacity: 1;\n  }\n"]);return rJ=function(){return n},n}function rF(){let n=(0,r._)(["\n  cursor: pointer;\n\n  padding: 8px 10px;\n  border-radius: 5px;\n  background-color: rgba(0, 0, 0, 0.8);\n\n  ","\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n"]);return rF=function(){return n},n}let r$=n=>{let{message:e,imageList:t,handleClickImage:i}=n,{collectEvent:r}=(0,u.zX9)();return(0,o.jsx)(rX,{children:1===t.length?(0,o.jsxs)(rK,{children:[(0,o.jsx)(rQ,{src:t[0]}),(0,o.jsx)(rN,{image:t[0],handleClickImage:()=>{r("click_image_back_btn",{chat_id:e.chatId,msg_id:e._id,image_urls:e.images}),i([t[0]])}})]}):t.map((n,e)=>(0,o.jsxs)(rq,{children:[(0,o.jsx)(rQ,{src:n}),(0,o.jsx)(rN,{image:n,handleClickImage:()=>i([n])})]},e))})},rN=n=>{let{image:e,handleClickImage:t}=n,i=(0,tJ.useTranslations)(),r=n=>{window.open(n,"_blank","noopener noreferrer")};return(0,o.jsxs)(r0,{column:!0,justify:"flex-start",align:"flex-start",children:[(0,o.jsx)(tt,{baseColor:e9.O9.WHITE,onClick:()=>r(e),children:(0,o.jsx)(tl.J,{icon:"arrows-maximize",size:20,color:e9.O9.WHITE,hoverColor:e9.O9.PURPLE_400})}),(0,o.jsx)(e9.LZ,{}),(0,o.jsx)(e9.A0,{style:{width:"100%",justifyContent:"flex-end"},children:(0,o.jsx)(r1,{onClick:t,children:i("ui.chat_user_image.image_click_button")})})]})},rX=e1()(e9.A0).withConfig({componentId:"sc-bf522e90-0"})(rH()),rK=e1()(e9.A0).withConfig({componentId:"sc-bf522e90-1"})(rZ()),rq=e1()(e9.A0).withConfig({componentId:"sc-bf522e90-2"})(rV()),rQ=e1().img.withConfig({componentId:"sc-bf522e90-3"})(rW()),r0=e1()(e9.A0).withConfig({componentId:"sc-bf522e90-4"})(rJ()),r1=e1()(e9.CY).withConfig({componentId:"sc-bf522e90-5"})(rF(),(0,e9.bV)("100-14-semi"),e9.O9.WHITE,e9.O9.PURPLE_400);var r2=t(60151);function r9(){let n=(0,r._)(["\n  gap: 24px;\n  flex-wrap: wrap;\n  width: 100%;\n"]);return r9=function(){return n},n}function r5(){let n=(0,r._)(["\n  width: 100%;\n  height: 92px;\n  background: white;\n\n  gap: 20px;\n  padding-right: 24px;\n\n  border-radius: 10px;\n  border: 1px solid ",";\n\n  cursor: pointer;\n  overflow: hidden;\n\n  @media (max-width: 767px) {\n    height: 50px;\n  }\n"]);return r5=function(){return n},n}function r8(){let n=(0,r._)(["\n  width: 150px;\n  height: 100%;\n\n  background: ",";\n  border-radius: inherit;\n\n  @media (max-width: 767px) {\n    width: 80px;\n  }\n\n  > img {\n    width: 100%;\n    height: 100%;\n  }\n"]);return r8=function(){return n},n}function r4(){let n=(0,r._)(["\n  flex: 1;\n  height: 100%;\n\n  padding: 16px 0px 20px;\n\n  @media (max-width: 767px) {\n    margin: 5px;\n    padding: 5px 0;\n  }\n"]);return r4=function(){return n},n}function r6(){let n=(0,r._)(["\n  &:hover {\n    text-decoration: underline;\n  }\n\n  @media (max-width: 767px) {\n    ","\n  }\n"]);return r6=function(){return n},n}function r7(){let n=(0,r._)(["\n  text-align: left;\n\n  ","\n  color : ",";\n"]);return r7=function(){return n},n}let r3=n=>{var e,t;let{content:i}=n,[r,l]=c.useState([]),s=(0,u.dD4)(),d=c.useRef(!1),a=c.useRef(!1),p=c.useMemo(()=>{let n=i.match(/\[([^[\]]+)\](\(([^()]+)\)|\[([^[\]]+)\])/g);return null===n?[]:null==n?void 0:n.map(n=>{var e;return null===(e=n.split("(")[1])||void 0===e?void 0:e.replace(")","")})},[i]),h=async n=>{if(!(n.length<1)&&!d.current){d.current=!0;try{let e=await Promise.all(n.map(async n=>{let e=await r2.Z.post("".concat("https://xtb2rcdope.execute-api.ap-northeast-2.amazonaws.com","/parse"),{url:n});return{...e.data,link:n}}));l(e)}catch(n){console.error(n)}finally{d.current=!1,a.current=!0}}},x=(0,u.U5e)(async(n,e)=>{if(n.isIntersecting)return e.unobserve(n.target),a.current||await h(p),()=>e.disconnect()}),f=n=>{window.open(n,"_blank","noopener noreferrer")},g=(n,e)=>""===n?"":n.length<e?n:"".concat(n.slice(0,e),"...");return(0,o.jsx)(on,{ref:x,children:r.map(n=>n.thumbnail&&""!==n.thumbnail&&(0,o.jsxs)(oe,{onClick:()=>f(n.link),children:[(0,o.jsx)(ot,{children:(0,o.jsx)("img",{alt:"link thumbnail",src:n.thumbnail})}),(0,o.jsxs)(oi,{column:!0,justify:"flex-start",align:"flex-start",children:[(0,o.jsx)(or,{children:g(null!==(e=n.title)&&void 0!==e?e:"",s?20:30)}),(0,o.jsx)(e9.LZ,{}),(0,o.jsx)(oo,{children:g(null!==(t=n.content)&&void 0!==t?t:"",s?30:80)})]})]},n.link))})},on=e1()(e9.A0).withConfig({componentId:"sc-5d2b46eb-0"})(r9()),oe=e1()(e9.A0).withConfig({componentId:"sc-5d2b46eb-1"})(r5(),e9.O9.GRAY_200),ot=e1().div.withConfig({componentId:"sc-5d2b46eb-2"})(r8(),e9.O9.PURPLE_500_PRIMARY),oi=e1()(e9.A0).withConfig({componentId:"sc-5d2b46eb-3"})(r4()),or=e1().div.withConfig({componentId:"sc-5d2b46eb-4"})(r6(),(0,e9.bV)("100-14-semi")),oo=e1().div.withConfig({componentId:"sc-5d2b46eb-5"})(r7(),(0,e9.bV)("100-12-med"),e9.O9.GRAY_600);var oc=t(80728);function ol(){let n=(0,r._)(["\n  height: 1px;\n  width: 100%;\n  background: ",";\n"]);return ol=function(){return n},n}function os(){let n=(0,r._)(["\n  overflow: hidden;\n  opacity: 0;\n  height: 0px;\n  display: flex;\n  padding: 20px 0px 10px;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 12px;\n  align-self: stretch;\n  border-radius: 10px;\n  border: 1px solid ",";\n  width: 100%;\n\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n    gap: 0px;\n  }\n"]);return os=function(){return n},n}function od(){let n=(0,r._)(["\n  width: 100%;\n\n  padding: 0px 24px;\n\n  @media (max-width: 768px) {\n    padding: 0px;\n  }\n"]);return od=function(){return n},n}function oa(){let n=(0,r._)(["\n  flex-direction: row;\n  justify-content: space-between;\n\n  width: 100%;\n\n  cursor: pointer;\n  gap: 12px;\n  padding: 20px 24px;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  @media (max-width: 768px) {\n    padding: 16px 0px;\n  }\n"]);return oa=function(){return n},n}function ou(){let n=(0,r._)(["\n  width: 100%;\n"]);return ou=function(){return n},n}function op(){let n=(0,r._)(["\n  ",";\n  color: ",";\n"]);return op=function(){return n},n}function oh(){let n=(0,r._)(["\n  color: ",";\n  ",";\n  text-align: start;\n"]);return oh=function(){return n},n}function ox(){let n=(0,r._)(["\n  ",";\n  color: ",";\n  text-align: left;\n  display: -webkit-box;\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -webkit-line-clamp: 3;\n"]);return ox=function(){return n},n}function of(){let n=(0,r._)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 8px;\n"]);return of=function(){return n},n}function og(){let n=(0,r._)(["\n  border-radius: 40px;\n  background: ",";\n  color: ",";\n  ",";\n  padding: 6px 10px;\n  margin-right: 4px;\n"]);return og=function(){return n},n}function om(){let n=(0,r._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 5px;\n"]);return om=function(){return n},n}function ow(){let n=(0,r._)(["\n  border-radius: 5px;\n"]);return ow=function(){return n},n}function o_(){let n=(0,r._)(["\n  color: ",";\n  ",";\n"]);return o_=function(){return n},n}function ob(){let n=(0,r._)(["\n  width: 1px;\n  height: 12px;\n  background: ",";\n"]);return ob=function(){return n},n}function oj(){let n=(0,r._)(["\n  gap: 6px;\n  flex-wrap: wrap;\n"]);return oj=function(){return n},n}function ov(){let n=(0,r._)(["\n  width: 100%;\n  gap: 6px;\n  flex-direction: row;\n  align-items: flex-start;\n  margin-bottom: 10px;\n  justify-content: space-between;\n"]);return ov=function(){return n},n}function oC(){let n=(0,r._)(["\n  padding: 6px 10px;\n  background-color: ",";\n\n  cursor: pointer;\n\n  border-radius: 40px;\n  border: 1px solid ",";\n\n  ","\n  color : ",";\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return oC=function(){return n},n}function oI(){let n=(0,r._)(["\n  min-width: max-content;\n"]);return oI=function(){return n},n}let ok=n=>{let{swiperRef:e,searchResult:t,chatId:i,chatModel:r,messageId:l,contentsLength:s,messageIdx:d}=n,a=(0,tJ.useTranslations)("ui.search_result"),{collectEvent:p}=(0,u.zX9)(),h="WRTN_SEARCH"===r,x=t.length>4,[f,g]=(0,c.useState)("WRTN_SEARCH"===r),m=(n,e)=>{p("click_chat_recommend_link",{index:e,link:n.externalLink,link_type:"external",display:n.display,chat_id:i,msg_id:l,position:"chat",is_thumbnail:!!n.thumbnail,re_generate:s-1===d,msg_index:d,model_name:r}),window.open(n.externalLink,"_blank","noopener noreferrer")},w=(n,e)=>{p("click_chat_recommend_link",{index:e,link:n.externalLink,link_type:"external",display:n.display,chat_id:i,msg_id:l,position:"detail_page",is_thumbnail:!!n.thumbnail,re_generate:s-1===d,msg_index:d,model_name:r}),window.open(n.externalLink,"_blank","noopener noreferrer")},_=()=>{g(n=>(p("click_chat_recommend_link_more_btn",{type:n?"close":"open",msg_id:l,chat_id:i,re_generate:s-1===d,msg_index:d}),!n))},b=(0,oc.q_)(()=>f?{from:{opacity:0,overflow:"hidden",height:"0%",transform:"translateY(20px)",paddingTop:"0px",marginBottom:"0px"},to:{opacity:1,overflow:"auto",height:"100%",transform:"translateY(0px)",paddingTop:"20px",marginBottom:"20px"},config:{mass:0,tension:0,friction:0},onChange:()=>{var n;null==e||null===(n=e.current)||void 0===n||n.swiper.updateAutoHeight(300)},onResolve:()=>{var n;null==e||null===(n=e.current)||void 0===n||n.swiper.updateAutoHeight(300)}}:{from:{opacity:1,overflow:"auto",height:"100%",transform:"translateY(0px)",paddingTop:"20px",marginBottom:"20px"},to:{opacity:0,overflow:"hidden",height:"0%",transform:"translateY(20px)",paddingTop:"0px",marginBottom:"0px"},config:{mass:0,tension:0,friction:0},onChange:()=>{var n;null==e||null===(n=e.current)||void 0===n||n.swiper.updateAutoHeight(300)},onResolve:()=>{var n;null==e||null===(n=e.current)||void 0===n||n.swiper.updateAutoHeight(300)}},[f]),j=(0,u.dD4)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(oB,{children:[!f&&(0,o.jsxs)(oD,{children:[t.slice(0,3).map((n,e)=>(0,o.jsxs)(oH,{onClick:()=>m(n,e),children:[e+1,". ",n.display]},n.display+e.toString())),x&&(0,o.jsxs)(oH,{onClick:_,children:["+",t.length-3]})]}),f&&(0,o.jsx)("div",{}),(0,o.jsxs)(oZ,{onClick:_,children:[f?(0,o.jsx)(tl.J,{icon:"angle-up",size:16,color:e9.O9.GRAY_500}):(0,o.jsx)(tl.J,{icon:"angle-down",size:16,color:e9.O9.GRAY_500}),a(f?"toggle.close":"toggle.open")]})]}),(0,o.jsx)(oA,{style:b[0],children:f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(oR,{children:(0,o.jsx)(oY,{children:a(h?"title.common":"title.search")})}),(0,o.jsx)(oT,{children:t.map((n,e)=>(0,o.jsxs)(c.Fragment,{children:[(0,o.jsx)(oO,{onClick:()=>w(n,e),children:j?(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",gap:"5px",width:"100%"},children:[(0,o.jsxs)(oG,{children:[(0,o.jsx)(oS,{children:h?e+1:n.display}),n.siteName&&(0,o.jsx)(oL,{children:n.siteName}),n.date&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(oM,{}),(0,o.jsx)(oL,{children:n.date})]})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"space-between"},children:[(0,o.jsx)(oz,{children:(0,o.jsx)(oE,{children:n.title})}),(null==n?void 0:n.thumbnail)&&(0,o.jsx)(oU,{children:(0,o.jsx)("img",{style:{borderRadius:"5px",objectFit:"cover"},src:n.thumbnail,alt:n.title,width:"70px",height:"70px"})})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(oz,{style:{flex:1},children:[(0,o.jsxs)(oG,{children:[(0,o.jsx)(oS,{children:h?e+1:n.display}),h&&(0,o.jsx)(oL,{children:n.display}),n.siteName&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(oM,{}),(0,o.jsx)(oL,{children:n.siteName})]}),n.date&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(oM,{}),(0,o.jsx)(oL,{children:n.date})]})]}),(0,o.jsx)(oE,{children:n.title}),(0,o.jsx)(oP,{children:n.snippet})]}),(null==n?void 0:n.thumbnail)&&(0,o.jsx)(oU,{children:(0,o.jsx)("img",{style:{borderRadius:"5px",objectFit:"cover"},src:n.thumbnail,alt:n.title,width:"91px",height:"91px"})})]})}),e!==t.length-1&&(0,o.jsx)(oy,{})]},n.externalLink))})]})})]})},oy=e1().div.withConfig({componentId:"sc-80fd5acc-0"})(ol(),e9.O9.BLUE_300_BG),oA=e1()(oc.q.div).withConfig({componentId:"sc-80fd5acc-1"})(os(),e9.O9.GRAY_100),oR=e1()(e9.A0).withConfig({componentId:"sc-80fd5acc-2"})(od()),oO=e1()(e9.CY).withConfig({componentId:"sc-80fd5acc-3"})(oa(),e9.O9.GRAY_000),oT=e1().div.withConfig({componentId:"sc-80fd5acc-4"})(ou()),oY=e1().span.withConfig({componentId:"sc-80fd5acc-5"})(op(),(0,e9.bV)("ex_180-15-semi"),e9.O9.GRAY_800),oE=e1().div.withConfig({componentId:"sc-80fd5acc-6"})(oh(),e9.O9.GRAY_800,(0,e9.bV)("ex_180-15-med")),oP=e1().div.withConfig({componentId:"sc-80fd5acc-7"})(ox(),(0,e9.bV)("ex_140-14-med"),e9.O9.GRAY_800),oG=e1().div.withConfig({componentId:"sc-80fd5acc-8"})(of()),oS=e1().div.withConfig({componentId:"sc-80fd5acc-9"})(og(),e9.O9.BLUE_300_BG,e9.O9.TEXT_SECONDARY,(0,e9.bV)("100-12-med")),oz=e1().div.withConfig({componentId:"sc-80fd5acc-10"})(om()),oU=e1().div.withConfig({componentId:"sc-80fd5acc-11"})(ow()),oL=e1().div.withConfig({componentId:"sc-80fd5acc-12"})(o_(),e9.O9.GRAY_500,(0,e9.bV)("100-12-med")),oM=e1().div.withConfig({componentId:"sc-80fd5acc-13"})(ob(),e9.O9.GRAY_100),oD=e1()(e9.A0).withConfig({componentId:"sc-80fd5acc-14"})(oj()),oB=e1()(e9.A0).withConfig({componentId:"sc-80fd5acc-15"})(ov()),oH=e1()(e9.CY).withConfig({componentId:"sc-80fd5acc-16"})(oC(),e9.O9.WHITE,e9.O9.GRAY_100,(0,e9.bV)("100-12-med"),e9.O9.GRAY_800,e9.O9.GRAY_000),oZ=e1()(oH).withConfig({componentId:"sc-80fd5acc-17"})(oI()),oV=n=>{if("WRTN_SEARCH"===n.model)return!1;let{content:e}=n;if(!e)return!1;let t=e.match(/\[([^[\]]+)\](\(([^()]+)\)|\[([^[\]]+)\])/g);return null!==t&&t.length>0},oW=n=>!n.image&&"CommandChipOutput"!==n.type&&!n.isTemp&&"NEW_ASSISTANT_MESSAGE_ID"!==n._id&&!(null==n?void 0:n.error);function oJ(){let n=(0,r._)(["\n  max-width: 766px;\n  width: 100%;\n  ","\n"]);return oJ=function(){return n},n}function oF(){let n=(0,r._)(["\n  margin-top: 10px;\n"]);return oF=function(){return n},n}function o$(){let n=(0,r._)(["\n  gap: 4px;\n  ","\n"]);return o$=function(){return n},n}function oN(){let n=(0,r._)(["\n  margin-left: 4px;\n  ","\n  color: ",";\n\n  @media (max-width: 767px) {\n    ","\n  }\n"]);return oN=function(){return n},n}function oX(){let n=(0,r._)(["\n  ","\n  color: ",";\n\n  @media (max-width: 767px) {\n    ","\n  }\n"]);return oX=function(){return n},n}function oK(){let n=(0,r._)(["\n  width: 100%;\n"]);return oK=function(){return n},n}function oq(){let n=(0,r._)(["\n  min-width: 100%;\n  padding: 20px 24px;\n  border-radius: 0px 10px 10px 10px;\n  background-color: ",";\n\n  gap: 12px;\n\n  @media (max-width: 767px) {\n    padding: 14px 16px;\n  }\n"]);return oq=function(){return n},n}function oQ(){let n=(0,r._)(["\n  width: 100%;\n  gap: 12px;\n"]);return oQ=function(){return n},n}function o0(){let n=(0,r._)(["\n  width: 100%;\n"]);return o0=function(){return n},n}function o1(){let n=(0,r._)([""]);return o1=function(){return n},n}let o2={"GPT3.5":"GPT-3.5",GPT4:"GPT-4","GPT3.5_16K":"GPT-3.5-16K",PALM2:"PaLM2",GPT4V:"GPT-4 Turbo",GPT4T:"GPT-4 Boost","Stable Diffusion XL":"SDXL","CLAUDE2.1":"Claude 2.1",CLAUDE_INSTANT:"Claude Instant",WRTN_SEARCH:"WRTN Search"},o9=n=>{let{header:e,service:t,contents:i,isStreaming:r,insertedComponent:l,footerComponent:s,imageFooterComponent:d,selectContent:a,streamContent:p}=n,h=c.useRef(null),x=(0,eQ.useRecoilValue)(u.wi7),f=null==a?void 0:a.selectedPairIds,g=null==a?void 0:a.handleSelect,m=i.length,w=()=>{var n;return null===(n=h.current)||void 0===n?void 0:n.swiper.slideNext()},_=()=>{var n;return null===(n=h.current)||void 0===n?void 0:n.swiper.slidePrev()},b=()=>{var n;null===(n=h.current)||void 0===n||n.swiper.updateAutoHeight(250)},{isModalOpen:j,initialIndex:v,allImages:C,openModal:I,closeModal:k}=rB({contents:i});c.useEffect(()=>{b()},[r,p,i[0].content]),c.useLayoutEffect(()=>{var n;null===(n=h.current)||void 0===n||n.swiper.slideTo(0,300)},[m]);let y=c.useCallback((n,e)=>{let i=!eq()(n.createdAt).isAfter(eq()().subtract(2,"week"));return(0,o.jsxs)("div",{children:[(0,o.jsxs)(ce,{column:!0,align:"flex-start",children:[(0,o.jsxs)(ct,{column:!0,align:"flex-start",onMouseEnter:()=>{var n;return null===(n=h.current)||void 0===n?void 0:n.swiper.disable()},onMouseLeave:()=>{var n;return null===(n=h.current)||void 0===n?void 0:n.swiper.enable()},children:[n.toolInfo&&(0,o.jsx)(tg.Tool,{toolInfo:n.toolInfo}),n.fileId&&n.reference&&(0,o.jsx)(tg.File,{reference:n.reference}),!(null==n?void 0:n.error)&&(0,o.jsx)(ra,{isStreaming:r&&0===e,streamContent:p,message:n,service:t}),(0,o.jsxs)(o.Fragment,{children:[!!(null==n?void 0:n.error)&&(0,o.jsx)(tr,{error:n.error}),n.image&&(0,o.jsx)(rI,{image:n.image,openModal:I,imageFooterComponent:e=>d?d(n,e):void 0})]}),"NewsInfoOutput"===n.type&&(0,o.jsx)(tT,{messages:n}),oV(n)&&(0,o.jsx)(r3,{content:n.content})]}),(0,o.jsxs)(ci,{children:[m>1&&(0,o.jsx)(tH,{type:"chat",currentSlide:e,slideCount:m,nextSlide:w,prevSlide:_}),(0,o.jsx)(e9.LZ,{}),oW(n)&&!r&&!x&&s&&s(n,e)]})]}),!(null==n?void 0:n.error)&&!i&&(0,o.jsx)(o4,{children:n.searchResult&&n.searchResult.length>0&&(0,o.jsx)(ok,{swiperRef:h,chatModel:n.model,searchResult:n.searchResult,chatId:n.chatId||"",contentsLength:m,messageIdx:e,messageId:n._id})})]})},[I,t,m,r,p,s,d,x]);return(0,o.jsxs)(o8,{row:!0,isSelectMode:x,isPairFirstMessage:i[0].pairFirstMessage,onClick:n=>x&&g&&setTimeout(()=>g(n,i[0].pairId),50),children:[x&&i[0].pairFirstMessage&&f&&(0,o.jsx)(cr,{children:f[i[0].pairId]?(0,o.jsx)(e2.wlE,{}):(0,o.jsx)(e2.abR,{})}),(0,o.jsxs)(e3,{column:!0,align:"flex-start",isSelectMode:x,isSelected:f&&f[i[0].pairId],children:[e&&(0,o.jsxs)(o6,{isSelectMode:x,children:[e.avatar,(0,o.jsx)(o7,{children:e.assistant}),e.model&&(0,o.jsx)(o3,{children:o2[e.model]||"GPT-3.5"})]}),l,(0,o.jsx)(cn,{children:(0,o.jsx)("swiper-container",{ref:h,"space-between":8,"auto-height":!0,"breakpoints-base":"container","focusable-elements":"input, select, option, textarea, button, video, label, p, span","grab-cursor":!0,"max-backface-hidden-slides":3,virtual:!0,children:i.map((n,e)=>(0,o.jsx)("swiper-slide",{children:y(n,e)},n._id))})},m),j&&C.length>0&&(0,o.jsx)(rG,{contents:i,allImages:C,initialIndex:v,closeChatImageModal:k,imageFooterComponent:d})]})]})},o5=c.memo(o9),o8=e1()(e9.A0).withConfig({componentId:"sc-e41edb07-0"})(oJ(),n=>{let{isSelectMode:e,isPairFirstMessage:t}=n;if(e){let n="align-items: stretch; justify-content: space-between;";return t?n+="gap: 40px; padding-right: 68px;":n+="padding-left: 65px;",n}}),o4=e1().div.withConfig({componentId:"sc-e41edb07-1"})(oF()),o6=e1()(e9.A0).withConfig({componentId:"sc-e41edb07-2"})(o$(),n=>{let{isSelectMode:e}=n;return e&&"max-width:calc(100% - 40px) "}),o7=e1().span.withConfig({componentId:"sc-e41edb07-3"})(oN(),(0,e9.bV)("100-14-med"),e9.O9.GRAY_800,(0,e9.bV)("100-13-med")),o3=e1().span.withConfig({componentId:"sc-e41edb07-4"})(oX(),(0,e9.bV)("100-14-med"),e9.O9.GRAY_500,(0,e9.bV)("100-13-med")),cn=e1()(tn).withConfig({componentId:"sc-e41edb07-5"})(oK()),ce=e1()(e9.A0).withConfig({componentId:"sc-e41edb07-6"})(oq(),e9.O9.BLUE_300_BG),ct=e1()(e9.A0).withConfig({componentId:"sc-e41edb07-7"})(oQ()),ci=e1()(e9.A0).withConfig({componentId:"sc-e41edb07-8"})(o0()),cr=e1().div.withConfig({componentId:"sc-e41edb07-9"})(o1()),co=c.createContext(null),cc=n=>{let{children:e,downloadUpScaledImage:t}=n,i=c.useMemo(()=>({downloadUpScaledImage:t}),[t]);return(0,o.jsx)(co.Provider,{value:i,children:e})};var cl=t(17434),cs=t(31430);let cd=n=>{var e,t,i,r;let{position:o,closeCallBack:l}=n,[s,d]=c.useState(!1),a=c.useRef(null),u=c.useRef(null),p=()=>{d(!0)},h=n=>{d(!1),n&&n()},x=()=>{d(n=>!n)};(0,cs.O8)([u,a],"mousedown",()=>{h(l)});let f={...(null==o?void 0:o.top)&&{top:(null===(e=a.current)||void 0===e?void 0:e.getBoundingClientRect().top)+(null==o?void 0:o.top)},...(null==o?void 0:o.left)&&{left:(null===(t=a.current)||void 0===t?void 0:t.getBoundingClientRect().left)+(null==o?void 0:o.left)},...(null==o?void 0:o.bottom)&&{bottom:(null===(i=a.current)||void 0===i?void 0:i.getBoundingClientRect().bottom)+(null==o?void 0:o.bottom)},...(null==o?void 0:o.right)&&{left:(null===(r=a.current)||void 0===r?void 0:r.getBoundingClientRect().right)+(null==o?void 0:o.right)}},g=n=>s?n({position:f,childRef:u}):null;return{parentRef:a,childRef:u,handleMouseOut:h,handleMouseOver:p,handleClick:x,hover:s,open:g}};function ca(){let n=(0,r._)(["\n  max-width: 766px;\n  width: 100%;\n  gap: 8px;\n"]);return ca=function(){return n},n}function cu(){let n=(0,r._)(["\n  &:hover {\n    #hover-wrapper {\n      display: flex;\n    }\n  }\n"]);return cu=function(){return n},n}function cp(){let n=(0,r._)(["\n  padding: 14px 20px;\n\n  border-radius: 10px 10px 0 10px;\n  background-color: ",";\n  gap: 16px;\n\n  &:hover {\n    background-color: #6446ff;\n    /* cursor: pointer; */\n  }\n\n  @media (max-width: 768px) {\n    padding: 10px 16px;\n  }\n"]);return cp=function(){return n},n}function ch(){let n=(0,r._)(["\n  color: ",";\n  text-align: left;\n"]);return ch=function(){return n},n}function cx(){let n=(0,r._)(["\n  display: none;\n\n  position: absolute;\n  right: calc(100% + 8px);\n  top: 14px;\n  gap: 10px;\n"]);return cx=function(){return n},n}function cf(){let n=(0,r._)(["\n  position: relative;\n  padding: 3px;\n\n  border-radius: 5px;\n\n  #popup {\n    display: none;\n  }\n\n  &:hover {\n    background-color: ",";\n    cursor: pointer;\n\n    #popup {\n      display: block;\n    }\n  }\n"]);return cf=function(){return n},n}function cg(){let n=(0,r._)(["\n  position: absolute;\n\n  left: 50%;\n  transform: translateX(-50%);\n  bottom: -25px;\n\n  background-color: ",";\n\n  border-radius: 5px;\n  ","\n\n  padding:4px 9px;\n  color: ",";\n  ","\n  white-space: nowrap;\n"]);return cg=function(){return n},n}function cm(){let n=(0,r._)(["\n  position: absolute;\n\n  top: -8px;\n  right: 0;\n\n  padding: 8px 0;\n  background-color: ",";\n\n  border: 1px solid ",";\n  border-radius: 8px;\n\n  ","\n"]);return cm=function(){return n},n}function cw(){let n=(0,r._)(["\n  justify-content: flex-start;\n  width: 100%;\n\n  padding: 10px 16px;\n  gap: 10px;\n\n  ","\n  color : ",";\n\n  white-space: nowrap;\n\n  &:hover {\n    cursor: pointer;\n    background-color: ",";\n  }\n"]);return cw=function(){return n},n}function c_(){let n=(0,r._)(["\n  cursor: pointer;\n"]);return c_=function(){return n},n}let cb=n=>{var e,t;let{service:i,content:r,selectContent:l,userActiveContent:s}=n,d=(0,tJ.useTranslations)("ui.user_message"),a=(0,tJ.useLocale)(),p=(0,eQ.useRecoilValue)(u.wi7),h=null==l?void 0:l.selectedPairIds,x=null==l?void 0:l.handleSelect,f=(0,u.oLs)({modalId:"collectionListModal"}),g=(0,u.oLs)({modalId:"collectionAddModal"}),{collectEvent:m}=(0,u.zX9)(),w=(0,tJ.useTranslations)("common"),_=()=>{f.open(),setTimeout(()=>{g.open({prompts:r.content})},100),m("click_prompthub_collection_add_btn",{current_screen:"chatscreen"}),m("click_chat_ellipsis_detail_btn",{chat_id:r.chatId,msg_id:r._id,btn_type:"prompt_add"}),v.handleMouseOut()},b=c.useRef(null),j=(0,tF.useAlert)(),v=cd({position:{top:32,left:25}}),C=()=>{v.handleMouseOut()};(0,u.O8h)([b,v.childRef],"mouseover",C);let I=c.useCallback(()=>{j.removeAll(),j.show(w("copy_message")),v.handleMouseOut(),m("click_chat_ellipsis_detail_btn",{chat_id:r.chatId,msg_id:r._id,btn_type:"text_copy"})},[]),k=c.useCallback(()=>{var n;"chat"===i&&(null===(n=r.toolInfo)||void 0===n||n.toolId)},[null===(e=r.toolInfo)||void 0===e?void 0:e.toolId,i]),y=c.useCallback(n=>{if("chat"===i){var e;null==s||null===(e=s.selectSavedImages)||void 0===e||e.call(s,n)}},[s]);if(c.useEffect(()=>{let n=()=>{v.hover&&v.handleMouseOut()};return window.addEventListener("wheel",n,{passive:!1}),()=>{window.removeEventListener("wheel",n)}},[v]),!r.content)return null;let A=p&&r.pairFirstMessage;return(0,o.jsxs)(cv,{row:A,column:!A,align:A?"stretch":"flex-end",justify:A?"space-between":"flex-start",onClick:n=>p&&x&&x(n,r.pairId),children:[p&&r.pairFirstMessage&&h&&(0,o.jsx)(cY,{children:h[r.pairId]?(0,o.jsx)(e2.wlE,{}):(0,o.jsx)(e2.abR,{})}),(0,o.jsxs)(cC,{column:!0,align:"flex-end",justify:"flex-start",ref:b,isSelectMode:p,isSelected:h&&h[r.pairId],style:{paddingLeft:40},children:[(null==r?void 0:r.images)&&(0,o.jsx)(r$,{message:r,imageList:r.images,handleClickImage:y}),(0,o.jsxs)(tn,{children:[(0,o.jsx)(cI,{column:!0,justify:"flex-end",children:(0,o.jsx)(ck,{children:(0,o.jsx)(iQ.Wrapper,{text:r.content,type:r.type,isUser:!0})})}),p||(0,o.jsxs)(cy,{id:"hover-wrapper",children:[!r.toolInfo&&(0,o.jsx)(cA,{onClick:()=>{m("click_chat_ellipsis_btn",{chat_id:r.chatId,msg_id:r._id}),v.handleClick()},ref:v.parentRef,children:(0,o.jsx)(tl.J,{icon:"ellipsis-h",size:20,color:e9.O9.GRAY_600})}),r.toolInfo&&(0,o.jsxs)(cA,{onClick:k,children:[(0,o.jsx)(e2.fxZ,{}),(0,o.jsx)(cR,{id:"popup",children:null===(t=r.toolInfo)||void 0===t?void 0:t.name})]})]})]}),v.open(n=>{let{position:e}=n;return(0,o.jsx)(rA.S,{position:e,children:(0,o.jsxs)(cO,{column:!0,ref:v.childRef,children:[(0,o.jsx)(cl.CopyToClipboard,{text:r.content,children:(0,o.jsxs)(cT,{onClick:I,children:[(0,o.jsx)(tl.J,{icon:"import",size:20,color:e9.O9.GRAY_400}),d("dropdown_more.copy")]})}),a===u.pS9.ko&&(0,o.jsxs)(cT,{onClick:_,children:[(0,o.jsx)(tl.J,{icon:"archive-alt",size:20,color:e9.O9.GRAY_400}),d("dropdown_more.save_prompt")]}),r.images&&r.images.length>0&&(0,o.jsxs)(cT,{onClick:()=>{m("click_chat_ellipsis_detail_btn",{btn_type:"image_back",chat_id:r.chatId,msg_id:r._id,image_urls:r.images}),y(r.images||[])},children:[(0,o.jsx)(tl.J,{icon:"image-plus",size:20,color:e9.O9.GRAY_400}),"이",d("dropdown_more.chat_image")]})]})})})]})]})},cj=c.memo(cb),cv=e1()(e9.A0).withConfig({componentId:"sc-450bea56-0"})(ca()),cC=e1()(e3).withConfig({componentId:"sc-450bea56-1"})(cu()),cI=e1()(e9.A0).withConfig({componentId:"sc-450bea56-2"})(cp(),e9.O9.PURPLE_500_PRIMARY),ck=e1()(te).withConfig({componentId:"sc-450bea56-3"})(ch(),e9.O9.WHITE),cy=e1()(e9.A0).withConfig({componentId:"sc-450bea56-4"})(cx()),cA=e1()(e9.CY).withConfig({componentId:"sc-450bea56-5"})(cf(),e9.O9.GRAY_000),cR=e1().div.withConfig({componentId:"sc-450bea56-6"})(cg(),e9.O9.GRAY_700,e9.Wn.popup_shadow,e9.O9.WHITE,(0,e9.bV)("100-12-semi")),cO=e1()(e9.A0).withConfig({componentId:"sc-450bea56-7"})(cm(),e9.O9.WHITE,e9.O9.GRAY_200,e9.Wn.dialog_shadow),cT=e1()(e9.CY).withConfig({componentId:"sc-450bea56-8"})(cw(),(0,e9.bV)("100-13-med"),e9.O9.GRAY_700,e9.O9.GRAY_000),cY=e1().div.withConfig({componentId:"sc-450bea56-9"})(c_()),cE=n=>{let{header:e,service:t,contents:i,replaceUserComponent:r,insertedComponent:l,footerComponent:s,imageFooterComponent:d,isStreaming:a,streamContent:u,downloadContent:p,selectContent:h,userActiveContent:x}=n,f=c.useMemo(()=>i[0],[i]);return"user"===f.role?r?(0,o.jsx)(o.Fragment,{children:r}):(0,o.jsx)(cj,{selectContent:h,content:f,service:t,userActiveContent:x}):(0,o.jsx)(cc,{downloadUpScaledImage:null==p?void 0:p.downloadUpScaledImage,children:(0,o.jsx)(o5,{header:e,service:t,contents:i,insertedComponent:l,footerComponent:s,imageFooterComponent:d,isStreaming:a,selectContent:h,streamContent:u})})};function cP(){let n=(0,r._)(["\n  gap: 6px;\n"]);return cP=function(){return n},n}function cG(){let n=(0,r._)(["\n  margin-left: 10px;\n"]);return cG=function(){return n},n}function cS(){let n=(0,r._)(["\n  padding: 0px;\n  margin: 0px;\n\n  gap: 5px;\n\n  width: 24px;\n  height: 22px;\n\n  border-radius: 4px;\n  background-color: ",";\n  white-space: nowrap;\n\n  cursor: pointer;\n\n  svg {\n    width: 16px;\n    height: 16px;\n\n    transform: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n\n    svg {\n      path {\n        fill: ",";\n      }\n    }\n  }\n"]);return cS=function(){return n},n}function cz(){let n=(0,r._)(["\n  width: auto;\n  padding: 0px 4px;\n\n  ","\n  color : ",";\n\n  &:hover {\n    color: ",";\n  }\n"]);return cz=function(){return n},n}function cU(){let n=(0,r._)(["\n  border-radius: 5px;\n  border: 1px solid ",";\n  overflow: hidden;\n\n  background-color: ",";\n\n  box-shadow: 0px 2px 4px 0px rgba(59, 63, 78, 0.03),\n    0px 4px 10px 0px rgba(79, 68, 195, 0.05);\n"]);return cU=function(){return n},n}function cL(){let n=(0,r._)(["\n  height: 36px;\n  width: 100%;\n\n  justify-content: flex-start;\n  padding: 10px 14px;\n\n  gap: 6px;\n\n  ","\n\n  &:hover {\n    cursor: pointer;\n    background-color: ",";\n  }\n"]);return cL=function(){return n},n}function cM(){let n=(0,r._)(["\n  width: 100%;\n  height: 1px;\n\n  background-color: ",";\n"]);return cM=function(){return n},n}e1()(e9.A0).withConfig({componentId:"sc-f1e1ecf4-0"})(cP()),e1()(e9.A0).withConfig({componentId:"sc-f1e1ecf4-1"})(cG());let cD=e1()(e9.CY).withConfig({componentId:"sc-f1e1ecf4-2"})(cS(),e9.O9.BLUE_400_BG,n=>{let{reverse:e}=n;return e?"rotate(180deg)":"rotate(0deg)"},e9.O9.GRAY_200,e9.O9.PURPLE_500_PRIMARY);e1()(cD).withConfig({componentId:"sc-f1e1ecf4-3"})(cz(),(0,e9.bV)("100-14-semi"),e9.O9.GRAY_600,e9.O9.GRAY_800),e1()(e9.A0).withConfig({componentId:"sc-f1e1ecf4-4"})(cU(),e9.O9.GRAY_200,e9.O9.WHITE),e1()(e9.CY).withConfig({componentId:"sc-f1e1ecf4-5"})(cL(),(0,e9.bV)("100-14-med"),e9.O9.GRAY_000),e1().div.withConfig({componentId:"sc-f1e1ecf4-6"})(cM(),e9.O9.GRAY_200);let cB=n=>{let{isOpen:e,close:t}=n,[i,r]=c.useState(!1),{sendAirbridgeEvent:o}=(0,u.lM5)(),{collectEvent:l}=(0,u.zX9)(),s=c.useCallback((n,e,i,r)=>{l("click_img_download_btn",{position:n,is_upscale:!1,share_trend_post_id:i,share_trend_post_uploader:r,image_urls:e.url}),o("download_image"),t()},[]);c.useEffect(()=>{let n=document.getElementById("ScrollContainer"),i=()=>{t()};n&&(e?n.addEventListener("scroll",i):n.removeEventListener("scroll",i))},[e]);let d=n=>r(n);return{isDownloading:i,setIsDownload:d,downloadImage:s}};function cH(){let n=(0,r._)(["\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n  justify-content: flex-start;\n  background-color: ",";\n  padding: 8px 0px;\n  border-radius: 8px;\n  border: 1px solid ",";\n  overflow: hidden;\n"]);return cH=function(){return n},n}function cZ(){let n=(0,r._)(["\n  text-align: left;\n\n  width: 100%;\n  min-width: 105px;\n\n  padding: 12px 16px;\n  border-radius: 0px;\n\n  gap: 10px;\n\n  ","\n  color: ",";\n\n  cursor: pointer;\n\n  &:hover {\n    background: ",";\n    border-radius: 0px;\n  }\n  &:disabled {\n    cursor: wait;\n    background-color: ",";\n    color: ",";\n  }\n"]);return cZ=function(){return n},n}function cV(){let n=(0,r._)(["\n  width: 100%;\n"]);return cV=function(){return n},n}let cW=n=>{let{img:e,position:t,childRef:i,isOpen:r,close:c,service:l,shareChat:s,downloadUpScaledImage:d}=n,a=(0,tJ.useTranslations)("ui.download"),{isDownloading:p,setIsDownload:x,downloadImage:f}=cB({isOpen:r,close:c}),{data:g}=(0,u.pgb)();return(0,o.jsx)(rA.S,{position:t,children:(0,o.jsxs)(cJ,{ref:i,children:[(0,o.jsx)(c$,{children:(0,o.jsx)("a",{href:e.url,download:!0,rel:"noopener noreferrer",onClick:()=>{},children:(0,o.jsxs)(cF,{onClick:()=>f(l,e,null==s?void 0:s.shareId,null==s?void 0:s.shareUserId),children:[(0,o.jsx)(tl.J,{icon:"import",size:20,color:e9.O9.GRAY_400,hoverColor:e9.O9.PURPLE_400}),a("download_button")]})})}),(!s||s&&(null==g?void 0:g._id)===s.shareUserId)&&(0,o.jsx)(c$,{children:(0,o.jsxs)(cF,{disabled:p,onClick:()=>d(c,x),children:[p?(0,o.jsx)(h.$,{width:20,height:20}):(0,o.jsx)(tl.J,{icon:"expand-alt",size:20,color:e9.O9.GRAY_400,hoverColor:e9.O9.PURPLE_400}),a("download_upscale_button")]})})]})})},cJ=e1()(e9.A0).withConfig({componentId:"sc-ec1ef30e-0"})(cH(),e9.O9.WHITE,e9.O9.GRAY_200),cF=e1()(e9.CY).attrs({justify:"flex-start"}).withConfig({componentId:"sc-ec1ef30e-1"})(cZ(),(0,e9.bV)("100-16-semi"),e9.O9.GRAY_700,e9.O9.GRAY_000,e9.O9.WHITE,e9.O9.GRAY_400),c$=e1().div.withConfig({componentId:"sc-ec1ef30e-2"})(cV());function cN(){let n=(0,r._)(["\n  width: 100%;\n  gap: 12px;\n"]);return cN=function(){return n},n}let cX=n=>{let{image:e,imgIndex:t,toggleImageLike:i,toggleImageDislike:r,service:c,shareChat:l,downloadUpScaledImage:s}=n,d=e.imageUrls[t],a={liked:e.imageUrls[t].liked,disliked:e.imageUrls[t].disliked},u=cd({position:{top:25,left:-130}});return(0,o.jsxs)(cK,{children:[(0,o.jsx)(e9.LZ,{}),i&&(0,o.jsx)(tt,{reverse:!0,baseColor:e9.O9.WHITE,onClick:i,children:(null==a?void 0:a.liked)?(0,o.jsx)(e2.Y2i,{}):(0,o.jsx)(e2.ASx,{})}),r&&(0,o.jsx)(tt,{baseColor:e9.O9.WHITE,onClick:r,children:(null==a?void 0:a.disliked)?(0,o.jsx)(e2.Y2i,{}):(0,o.jsx)(e2.ASx,{})}),(0,o.jsx)(tt,{onClick:()=>u.handleClick(),ref:u.parentRef,children:(0,o.jsx)(tl.J,{icon:"import",size:20,color:e9.O9.WHITE,hoverColor:e9.O9.PURPLE_400})}),u.open(n=>{let{position:e,childRef:t}=n;return(0,o.jsx)(cW,{img:d,position:e,childRef:t,isOpen:u.hover,close:u.handleMouseOut,service:c,shareChat:l,downloadUpScaledImage:s})})]})},cK=e1()(e9.A0).withConfig({componentId:"sc-fce577db-0"})(cN()),cq=(n,e,t)=>n&&""!==n?n.length>e?"".concat(n.slice(0,e),"..."):n:null!=t?t:"";function cQ(){let n=(0,r._)(["\n  max-width: 766px;\n  width: 100%;\n  min-height: 132px;\n  padding: 32px 0px;\n  gap: 16px;\n  border-bottom: 1px solid ",";\n\n  @media (max-width: 1279px) {\n    height: auto;\n    min-height: 168px;\n    padding: 32px 0px;\n  }\n\n  @media (max-width: 767px) {\n    gap: 12px;\n    min-height: 144px;\n    padding: 24px 0px;\n  }\n"]);return cQ=function(){return n},n}function c0(){let n=(0,r._)(["\n  min-height: 32px;\n  padding: 7px 0px;\n  ","\n\n  @media (max-width: 767px) {\n    ","\n    padding: 8px 0px;\n  }\n"]);return c0=function(){return n},n}function c1(){let n=(0,r._)(["\n  gap: 8px;\n  ",";\n  color: ",";\n"]);return c1=function(){return n},n}function c2(){let n=(0,r._)(["\n  /* text-align: center; */\n  color: ",";\n"]);return c2=function(){return n},n}function c9(){let n=(0,r._)(["\n  background-color: #c8caff;\n  height: 20px;\n  width: 20px;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  align-self: flex-start;\n\n  ","\n"]);return c9=function(){return n},n}function c5(){let n=(0,r._)(["\n  &:hover {\n    cursor: pointer;\n  }\n\n  margin-left: 12px;\n"]);return c5=function(){return n},n}function c8(){let n=(0,r._)(["\n  width: 100%;\n  gap: 8px;\n"]);return c8=function(){return n},n}function c4(){let n=(0,r._)(["\n  ",";\n  color: ",";\n  cursor: pointer;\n  gap: 6px;\n"]);return c4=function(){return n},n}function c6(){let n=(0,r._)(["\n  width: 1px;\n  background-color: ",";\n  height: 16px;\n"]);return c6=function(){return n},n}function c7(n){var e;let{chat:t,showEditForm:i,handleShowEditForm:r,onClickLike:l,isLiked:s,likes:d,view:a}=n,[h,x]=(0,c.useState)(t.topic),f=(0,u.ach)("(max-width: 1279px)"),g=(0,u.dD4)(),{data:m}=(0,u.pgb)();(0,c.useEffect)(()=>{x(t.topic)},[t]);let w=async()=>{r(!1)},b=async n=>{r(!1);try{await (0,u.YBT)(t._id,{topic:n}),x(n)}catch(n){}};return(0,o.jsxs)(c3,{justify:"flex-start",align:"flex-start",column:!0,showEditForm:i,children:[i||(0,o.jsxs)(ln,{row:!0,children:[!h&&(0,o.jsx)(lt,{children:"(제목없음)"}),h&&!i&&(0,o.jsxs)(lt,{children:[cq(h,g?34:75),(null==m?void 0:m._id)===t.userId&&!f&&(0,o.jsx)(lr,{onClick:()=>r(!0),children:(0,o.jsx)(p.JO$,{icon:"edit-alt",size:20,color:p.O9T.GRAY_500})})]})]}),h&&i&&(0,o.jsx)(C,{topic:h,submitEditChatTopic:b,cancelEditChatTopic:w}),(0,o.jsxs)(le,{row:!0,justify:"center",children:[(0,o.jsx)(li,{children:(null!==(e=t.userName)&&void 0!==e?e:"").slice(0,1)}),(0,o.jsx)("div",{children:t.userName}),(0,o.jsx)(ll,{}),(0,o.jsx)("div",{children:(0,o.jsx)(_,{dateString:t.createdAt})})]}),f&&(0,o.jsxs)(lo,{row:!0,children:[(0,o.jsxs)(lc,{children:[(0,o.jsx)(p.JO$,{icon:"eye",size:20,color:p.O9T.GRAY_600}),(0,o.jsx)("div",{children:a})]}),(0,o.jsxs)(lc,{onClick:l,children:[s?(0,o.jsx)(p.EJh,{}):(0,o.jsx)(p.JO$,{icon:"heart",size:20,color:p.O9T.GRAY_600}),(0,o.jsx)("div",{children:null!=d?d:0})]})]})]})}let c3=a()(p.A09).withConfig({componentId:"sc-c05d25cc-0"})(cQ(),p.O9T.GRAY_100),ln=a()(p.A09).withConfig({componentId:"sc-c05d25cc-1"})(c0(),(0,p.bVO)("160-18-semi"),(0,p.bVO)("160-16-semi")),le=a()(p.A09).withConfig({componentId:"sc-c05d25cc-2"})(c1(),(0,p.bVO)("100-13-med"),p.O9T.GRAY_700),lt=a().div.withConfig({componentId:"sc-c05d25cc-3"})(c2(),p.O9T.GRAY_800),li=a().span.withConfig({componentId:"sc-c05d25cc-4"})(c9(),(0,p.f3b)({color:p.O9T.WHITE,size:"12px",weight:500})),lr=a().span.withConfig({componentId:"sc-c05d25cc-5"})(c5()),lo=a()(p.A09).withConfig({componentId:"sc-c05d25cc-6"})(c8()),lc=a()(p.A09).withConfig({componentId:"sc-c05d25cc-7"})(c4(),(0,p.bVO)("100-13-med"),p.O9T.GRAY_500),ll=a().div.withConfig({componentId:"sc-c05d25cc-8"})(c6(),p.O9T.GRAY_400);function ls(){let n=(0,r._)(["\n  display: none;\n\n  @media (max-width: 1279px) {\n    padding: 12px 13px;\n    height: 56px;\n    position: sticky;\n    top: 0;\n    background-color: ",";\n    border-bottom: 1px solid ",";\n    display: flex;\n    z-index: 90;\n  }\n"]);return ls=function(){return n},n}function ld(){let n=(0,r._)(["\n  gap: 16px;\n"]);return ld=function(){return n},n}function la(){let n=(0,r._)(["\n  gap: 8px;\n"]);return la=function(){return n},n}function lu(){let n=(0,r._)(["\n  margin: 15px 0;\n"]);return lu=function(){return n},n}function lp(){let n=(0,r._)(["\n  width: 34px;\n  height: 32px;\n  cursor: pointer;\n"]);return lp=function(){return n},n}function lh(){let n=(0,r._)(["\n  margin-right: 5px;\n  ",";\n  color: ",";\n  font-weight: 800;\n"]);return lh=function(){return n},n}function lx(){let n=(0,r._)(["\n  padding-top: 5px;\n"]);return lx=function(){return n},n}function lf(){let n=(0,r._)(["\n  width: 34px;\n  height: 32px;\n  cursor: pointer;\n"]);return lf=function(){return n},n}function lg(){let n=(0,r._)(["\n  background-color: ",";\n  padding: 4px 12px 4px 12px;\n  border-top-right-radius: 20px;\n  border-top-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n\n  color: ",";\n  ",";\n  font-weight: 800;\n"]);return lg=function(){return n},n}let lm=n=>{let{chat:e,handleShowEditForm:t,onClickLike:i,isLiked:r,handleShowMenu:c,showMenu:l,copyLink:s,onClickBackButton:d}=n,{data:a}=(0,u.pgb)(),h=(null==a?void 0:a._id)===e.userId,x=()=>{c(!1),t(!0)},g=async()=>{try{await (0,u.YBT)(e._id,{isDeleted:!0,originalId:e.originalId}),window.location.href="/share"}catch(n){}};return(0,o.jsxs)(lw,{row:!0,justify:"space-between",children:[(0,o.jsxs)(l_,{row:!0,children:[(0,o.jsx)(f(),{href:"/share",children:(0,o.jsx)(lv,{justify:"center",onClick:d,children:(0,o.jsx)(p.pks,{})})}),(0,o.jsxs)(lj,{children:[(0,o.jsx)(lC,{children:"공유"}),(0,o.jsx)(f(),{href:"/share",children:(0,o.jsx)(ly,{children:"#트렌드"})})]})]}),(0,o.jsxs)(lb,{row:!0,children:[(0,o.jsx)(lk,{onClick:n=>i(n),justify:"center",children:r?(0,o.jsx)(lI,{children:(0,o.jsx)(p.QSV,{})}):(0,o.jsx)(p.JO$,{icon:"heart",size:22,color:p.O9T.GRAY_700})}),(0,o.jsx)(lk,{onClick:n=>s(n),justify:"center",children:(0,o.jsx)(p.JO$,{icon:"link",size:20,color:p.O9T.GRAY_700})}),h&&(0,o.jsxs)(lk,{justify:"center",children:[(0,o.jsx)("span",{onClick:()=>c(!l),children:(0,o.jsx)(p.JO$,{icon:"ellipsis-h",size:20,color:p.O9T.GRAY_700})}),(0,o.jsx)(R,{showMenu:l,copyLink:s,editChatTopic:x,deleteChat:g,closeMenu:()=>c(!1)})]})]})]})},lw=a()(p.A09).withConfig({componentId:"sc-57171b28-0"})(ls(),p.O9T.WHITE,p.O9T.GRAY_200),l_=a()(p.A09).withConfig({componentId:"sc-57171b28-1"})(ld()),lb=a()(p.A09).withConfig({componentId:"sc-57171b28-2"})(la()),lj=a().div.withConfig({componentId:"sc-57171b28-3"})(lu()),lv=a()(p.A09).withConfig({componentId:"sc-57171b28-4"})(lp()),lC=a().span.withConfig({componentId:"sc-57171b28-5"})(lh(),(0,p.bVO)("100-15-bold"),p.O9T.GRAY_700),lI=a().div.withConfig({componentId:"sc-57171b28-6"})(lx()),lk=a()(p.A09).withConfig({componentId:"sc-57171b28-7"})(lf()),ly=a().span.withConfig({componentId:"sc-57171b28-8"})(lg(),p.O9T.PURPLE_500_PRIMARY,p.O9T.WHITE,(0,p.bVO)("100-15-bold"));function lA(){let n=(0,r._)(["\n  display: none;\n\n  @media (max-width: 1279px) {\n    padding: 12px 13px;\n    height: 56px;\n    position: sticky;\n    top: 0;\n    background-color: ",";\n    border-bottom: 1px solid ",";\n    display: flex;\n    z-index: 90;\n  }\n"]);return lA=function(){return n},n}function lR(){let n=(0,r._)(["\n  gap: 16px;\n"]);return lR=function(){return n},n}function lO(){let n=(0,r._)(["\n  margin: 15px 0;\n"]);return lO=function(){return n},n}function lT(){let n=(0,r._)(["\n  width: 34px;\n  height: 32px;\n  cursor: pointer;\n"]);return lT=function(){return n},n}function lY(){let n=(0,r._)(["\n  margin-right: 5px;\n  ",";\n  color: ",";\n  font-weight: 800;\n"]);return lY=function(){return n},n}function lE(){let n=(0,r._)(["\n  background-color: ",";\n  padding: 4px 12px 4px 12px;\n  border-top-right-radius: 20px;\n  border-top-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n\n  color: ",";\n  ",";\n  font-weight: 800;\n"]);return lE=function(){return n},n}let lP=n=>{let{onClickBackButton:e}=n;return(0,o.jsx)(lG,{row:!0,justify:"space-between",children:(0,o.jsxs)(lS,{row:!0,children:[(0,o.jsx)(f(),{href:"/share",children:(0,o.jsx)(lU,{justify:"center",onClick:e,children:(0,o.jsx)(p.pks,{})})}),(0,o.jsxs)(lz,{children:[(0,o.jsx)(lL,{children:"공유"}),(0,o.jsx)(f(),{href:"/share",children:(0,o.jsx)(lM,{children:"#트렌드"})})]})]})})},lG=a()(p.A09).withConfig({componentId:"sc-ad85f91f-0"})(lA(),p.O9T.WHITE,p.O9T.GRAY_200),lS=a()(p.A09).withConfig({componentId:"sc-ad85f91f-1"})(lR()),lz=a().div.withConfig({componentId:"sc-ad85f91f-2"})(lO()),lU=a()(p.A09).withConfig({componentId:"sc-ad85f91f-3"})(lT()),lL=a().span.withConfig({componentId:"sc-ad85f91f-4"})(lY(),(0,p.bVO)("100-15-bold"),p.O9T.GRAY_700),lM=a().span.withConfig({componentId:"sc-ad85f91f-5"})(lE(),p.O9T.PURPLE_500_PRIMARY,p.O9T.WHITE,(0,p.bVO)("100-15-bold"));function lD(){let n=(0,r._)(["\n  flex-direction: column;\n  gap: 5px;\n\n  ","\n\n  color: ",";\n"]);return lD=function(){return n},n}function lB(){let n=(0,r._)(["\n  background-color: white;\n  border-radius: 24px;\n  border: 1px solid ",";\n  width: 48px;\n  height: 48px;\n\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    cursor: inherit;\n\n    &:hover {\n      background-color: ",";\n      border-color: ",";\n      color: ",";\n    }\n  }\n"]);return lB=function(){return n},n}let lH=n=>{let{onClick:e,children:t,isClickable:i=!0,label:r,labelColor:c}=n;return(0,o.jsxs)(lZ,{color:c,children:[(0,o.jsx)(lV,{onClick:e,disabled:!i,children:t}),r]})},lZ=a()(p.A09).withConfig({componentId:"sc-82abf028-0"})(lD(),(0,p.f3b)({weight:600,size:"14px",color:p.O9T.GRAY_700}),n=>{let{color:e}=n;return null!=e?e:""}),lV=a()(p.CYX).withConfig({componentId:"sc-82abf028-1"})(lB(),p.O9T.GRAY_200,p.O9T.PURPLE_200,p.O9T.PURPLE_500_PRIMARY,p.O9T.PURPLE_500_PRIMARY,p.O9T.GRAY_200,p.O9T.GRAY_200,p.O9T.GRAY_200);function lW(n){let{copyLink:e}=n;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lH,{onClick:e,isClickable:!0,children:(0,o.jsx)(p.JO$,{icon:"link",size:20,color:"inherit"})})})}function lJ(n){let{chatId:e,originalId:t,userId:i}=n,{data:r}=(0,u.pgb)(),c=async()=>{try{let n=await (0,u.YBT)(e,{isDeleted:!0,originalId:t});if(n)window.location.href="/share";else throw Error("cannot delete")}catch(n){}};return r&&r._id===i?(0,o.jsx)(lH,{onClick:c,isClickable:!0,children:(0,o.jsx)(p.JO$,{icon:"trash-alt",size:20,color:"inherit"})}):(0,o.jsx)(o.Fragment,{})}function lF(n){let{view:e}=n;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lH,{label:"".concat(e),children:(0,o.jsx)(p.JO$,{icon:"eye",size:20,color:"inherit"})})})}function l$(n){let{chat:e,onClickLike:t,likes:i,isLiked:r}=n;return e?(0,o.jsx)(lH,{onClick:t,label:"".concat(i),isClickable:!0,labelColor:r?p.O9T.PURPLE_500_PRIMARY:void 0,children:r?(0,o.jsx)(p.QSV,{}):(0,o.jsx)(p.JO$,{icon:"heart",size:20,color:"inherit"})}):null}function lN(n){let{onClick:e,count:t,isClicked:i}=n;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lH,{onClick:e,isClickable:!0,label:"".concat(t),children:i?(0,o.jsx)(p.UH6,{}):(0,o.jsx)(p.JO$,{icon:"bookmark-full",size:20,color:"inherit"})})})}function lX(){let n=(0,r._)(["\n  background-color: ",";\n  border-radius: 12px;\n  padding: 32px 24px 24px;\n  min-width: 320px;\n  height: 118px;\n  border: 1px solid ",";\n"]);return lX=function(){return n},n}function lK(){let n=(0,r._)(["\n  flex-direction: column;\n"]);return lK=function(){return n},n}function lq(){let n=(0,r._)(["\n  position: absolute;\n  top: 18px;\n  right: 18px;\n"]);return lq=function(){return n},n}function lQ(n){let{isOpen:e,children:t,showCloseIcon:i,onCloseModal:r}=n;return(0,o.jsx)(o.Fragment,{children:e&&(0,o.jsx)(rA.H,{onClose:r,children:(0,o.jsxs)(l0,{justify:"center",column:!0,children:[i&&(0,o.jsx)(l9,{onClick:r}),(0,o.jsx)(l1,{children:t})]})})})}let l0=a()(p.A09).withConfig({componentId:"sc-2b298a79-0"})(lX(),p.O9T.WHITE,p.O9T.GRAY_100),l1=a()(p.A09).withConfig({componentId:"sc-2b298a79-1"})(lK()),l2=a()(p.CYX).withConfig({componentId:"sc-2b298a79-2"})(lq()),l9=n=>{let{onClick:e}=n;return(0,o.jsx)(l2,{onClick:e,children:(0,o.jsx)(p.JO$,{icon:"times",size:20,color:p.O9T.GRAY_700})})};(0,s.atom)({key:"flagState",default:!0});let l5=n=>{var e;let{chat:t,handleShowModal:i}=n,[r,o]=c.useState(null!==(e=null==t?void 0:t.views)&&void 0!==e?e:0),{collectEvent:l}=(0,u.zX9)();c.useEffect(()=>{t&&s()},[t]);let s=async()=>{try{let n=await (0,u.Klt)(t.shareId);o(n.data.data),l("view_share_trend_post",{share_trend_post_id:null==t?void 0:t.shareId,share_trend_post_uploader:null==t?void 0:t.userId}),1===n.data.data&&i(!0)}catch(n){}};return{view:r}};var l8=t(49258),l4=t(28554);let l6=async n=>{let{targetUrl:e,imageId:t,email:i}=n;return l8.ApiInstance.William.put((0,l4.f0)("/image/".concat(t,"/upscale"),{platform:(0,u.XfM)(),user:i}),{targetUrl:e})},l7=(n,e,t)=>{let{data:i}=(0,u.pgb)(),{sendAirbridgeEvent:r}=(0,u.lM5)(),{collectEvent:o}=(0,u.zX9)(),l=c.useCallback(async(c,l,s,d)=>{if(!c.image)return;let a=c.image._id,u=c.image.imageUrls[l];try{d(!0);let c=await l6({targetUrl:u.url,imageId:a,email:(null==i?void 0:i.email)||""}),l=document.createElement("a");l.href=c.data,l.setAttribute("download","true"),document.body.appendChild(l),l.click(),document.body.removeChild(l),o("click_img_download_btn",{position:n,is_upscale:!0,share_trend_post_id:e,share_trend_post_uploader:t,image_urls:u.url}),r("download_image")}catch(n){console.error(n)}finally{d(!1),s()}},[i]);return{downloadUpScaledImage:l}};function l3(){let n=(0,r._)(["\n  flex-direction: row;\n  margin-bottom: 50px;\n  justify-content: center;\n  align-items: flex-start;\n  padding-right: 10%;\n  padding-left: 10%;\n  width: 100%;\n\n  @media (max-width: 1279px) {\n    padding-right: 20px;\n    padding-left: 20px;\n    margin-top: 0px;\n  }\n"]);return l3=function(){return n},n}function sn(){let n=(0,r._)(["\n  flex-direction: column;\n  gap: 20px;\n  margin: 0 30px 200px 30px;\n  width: 100%;\n\n  @media (max-width: 767px) {\n    margin: 0 0 160px 0;\n    width: 100%;\n  }\n"]);return sn=function(){return n},n}function se(){let n=(0,r._)(["\n  position: fixed;\n  z-index: 10;\n  margin-top: 30px;\n  left: calc(50% - 460px);\n\n  @media (max-width: 1279px) {\n    display: none;\n  }\n"]);return se=function(){return n},n}function st(){let n=(0,r._)(["\n  margin-top: 30px;\n  position: fixed;\n  z-index: 10;\n  right: calc(50% - 460px);\n\n  flex-direction: column;\n  gap: 15px;\n\n  @media (max-width: 1279px) {\n    display: none;\n  }\n"]);return st=function(){return n},n}function si(){let n=(0,r._)(["\n  width: 149px;\n  height: 42px;\n  background: linear-gradient(\n    90.34deg,\n    #c57dff -21.05%,\n    #669cff 70.31%,\n    #99e5f4 169.62%\n  );\n\n  ",";\n  text-align: center;\n  color: ",";\n  border-radius: 5px;\n  cursor: pointer;\n\n  @media (max-width: 768px) {\n    margin: 0px;\n    height: 42px;\n    padding: 0px;\n  }\n"]);return si=function(){return n},n}function sr(){let n=(0,r._)(["\n  width: 100%;\n  height: 90px;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 255, 255, 0) 0%,\n    #ffffff 26.03%\n  );\n\n  position: fixed;\n  z-index: 1;\n  bottom: 0px;\n  padding: 16px 0px 32px;\n\n  @media (max-width: 767px) {\n    height: 82px;\n    padding: 16px 0px 24px;\n    background: linear-gradient(\n      180deg,\n      rgba(255, 255, 255, 0) 0%,\n      #ffffff 26.03%\n    );\n  }\n"]);return sr=function(){return n},n}function so(){let n=(0,r._)(["\n  width: 760px;\n  text-align: center;\n  padding-top: 20px;\n\n  @media (max-width: 767px) {\n    width: 100%;\n  }\n\n  color: "," ",";\n"]);return so=function(){return n},n}function sc(){let n=(0,r._)(["\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n"]);return sc=function(){return n},n}function sl(){let n=(0,r._)(["\n  flex-direction: column;\n  gap: 10px;\n\n  > span {\n    ","\n  }\n  color: ",";\n"]);return sl=function(){return n},n}function ss(){let n=(0,r._)(["\n  width: 100%;\n  height: 1px;\n"]);return ss=function(){return n},n}function sd(n){var e;let{chat:t,ogImage:i}=n,r=(0,nl.useRouter)(),l=(0,u.dD4)(),[s,d]=c.useState(!1),[a,h]=c.useState(!1),[x,f]=c.useState(!1),[m,w]=c.useState(null==t?void 0:t.isDeleted),{isLiked:_,likes:b,onClickLike:j}=(0,g._X)({chatId:null==t?void 0:t._id,chatUserId:null==t?void 0:t.userId,shareId:null==t?void 0:t.shareId,likes:null!==(e=null==t?void 0:t.likes)&&void 0!==e?e:0}),{data:v}=(0,u.pgb)(),{collectEvent:C}=(0,u.zX9)(),{downloadUpScaledImage:I}=l7("share"),k=()=>{window.history.length>1?r.back():r.push("/share")},y=()=>{r.push("/")};c.useEffect(()=>{t&&A(t.shareId)},[t]),c.useEffect(()=>{x&&setTimeout(()=>{f(!1)},1e3)},[x]);let A=async n=>{try{let e=await (0,u.U5T)(n);w(e.data.data)}catch(n){}},R=async n=>{n.stopPropagation();let e=window.location.href;await navigator.clipboard.writeText(e),f(!0);let i=e.split("/");C("click_share_trend_post_link_copy",{share_trend_post_id:i.pop(),share_trend_post_uploader:null==t?void 0:t.userId,position:"share_trend_post"})},O=n=>{h(n)},T=n=>{f(n)},{view:Y}=l5({chat:t,handleShowModal:T}),E=()=>{let n=document.getElementById("TopDiv");n&&n.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},P=n=>{n&&l&&E(),d(n)},G=c.useCallback((n,e)=>n.image&&t?(0,o.jsx)(cX,{image:n.image,imgIndex:e,service:"share",downloadUpScaledImage:(t,i)=>I(n,e,t,i),shareChat:{shareId:t.shareId,shareUserId:t.userId}}):null,[t,I]);if(!t||!t.messages||m)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lP,{onClickBackButton:k}),(0,o.jsxs)(sa,{children:[(0,o.jsx)(sp,{children:(0,o.jsx)(lH,{onClick:k,label:"목록 보기",children:(0,o.jsx)(p.JO$,{icon:"arrow-left",size:20})})}),(0,o.jsx)(su,{children:r.isFallback?(0,o.jsx)(sg,{children:(0,o.jsx)(p.$jN,{width:22,height:22,color:p.O9T.PURPLE_500_PRIMARY})}):(0,o.jsx)(sg,{children:"채팅을 찾을 수 없습니다."})}),(0,o.jsx)(sh,{children:(0,o.jsx)(lH,{children:(0,o.jsx)(p.JO$,{icon:"link",size:20})})})]})]});let S=[],z=[];return t.messages.forEach((n,e)=>{"user"===n.role?(0!==z.length&&(S.push(z),z=[]),S.push(n)):z.push(n),e===t.messages.length-1&&z.length>0&&S.push(z)}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(eX(),{children:[(0,o.jsx)("title",{children:"".concat(cq(t.topic,50)," - 뤼튼")}),(0,o.jsx)("meta",{charSet:"utf-8"}),(0,o.jsx)("meta",{name:"description",content:t.messages.map(n=>n.content).join(", ")}),(0,o.jsx)("meta",{property:"og:title",content:"".concat(cq(t.topic,50)," - 뤼튼")}),(0,o.jsx)("meta",{property:"og:description",content:t.messages[1].content}),(0,o.jsx)("meta",{property:"og:type",content:"website"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://wrtn.ai","/share/").concat(t.shareId)}),(0,o.jsx)("meta",{property:"og:image",content:i}),(0,o.jsx)("meta",{property:"og:locale",content:"ko_KR"})]}),(0,o.jsx)(s_,{id:"TopDiv"}),(0,o.jsx)(lm,{chat:t,handleShowEditForm:P,onClickLike:j,isLiked:_,handleShowMenu:O,showMenu:a,copyLink:R,onClickBackButton:k}),(0,o.jsxs)(sa,{children:[(0,o.jsx)(sp,{children:(0,o.jsx)(lH,{onClick:k,label:"목록 보기",children:(0,o.jsx)(p.JO$,{icon:"arrow-left",size:20})})}),(0,o.jsxs)(su,{children:[(0,o.jsx)(c7,{chat:t,showEditForm:s,handleShowEditForm:P,view:Y,likes:b,isLiked:_,onClickLike:j}),S.map(n=>{let e=Array.isArray(n)?n:[n],i=e[0],r={assistant:"".concat(t.userName,"의 어시스턴트"),avatar:(0,o.jsx)(sm,{}),model:i.model||""};return(0,o.jsx)(cE,{service:"share",contents:e,header:r,imageFooterComponent:G},i._id)})]}),l||(0,o.jsxs)(sh,{children:[(0,o.jsx)(lW,{copyLink:R}),(0,o.jsx)(lJ,{chatId:t._id,userId:t.userId,originalId:t.originalId}),(0,o.jsx)(lF,{view:Y}),(0,o.jsx)(l$,{chat:t,onClickLike:j,likes:b,isLiked:_})]}),(0,o.jsx)(sf,{row:!0,align:"flex-start",justify:"center",children:(0,o.jsx)(sx,{onClick:y,children:v?"새로운 채팅하기":"뤼튼 시작하기"})}),(0,o.jsx)(lQ,{isOpen:x,onCloseModal:()=>f(!1),showCloseIcon:!1,children:(0,o.jsxs)(sw,{children:[(0,o.jsx)(p.JO$,{icon:"link",size:20}),(0,o.jsx)("span",{children:"링크가 복사되었습니다."})]})})]})]})}let sa=a()(p.A09).withConfig({componentId:"sc-7c802d9d-0"})(l3()),su=a()(p.A09).withConfig({componentId:"sc-7c802d9d-1"})(sn()),sp=a()(p.A09).withConfig({componentId:"sc-7c802d9d-2"})(se()),sh=a()(p.A09).withConfig({componentId:"sc-7c802d9d-3"})(st()),sx=a()(p.CYX).withConfig({componentId:"sc-7c802d9d-4"})(si(),(0,p.bVO)("100-16-semi"),p.O9T.WHITE),sf=a()(p.A09).withConfig({componentId:"sc-7c802d9d-5"})(sr()),sg=a().span.withConfig({componentId:"sc-7c802d9d-6"})(so(),p.O9T.GRAY_700,(0,p.bVO)("100-16-med")),sm=a()(p.MsG).withConfig({componentId:"sc-7c802d9d-7"})(sc()),sw=a()(p.A09).withConfig({componentId:"sc-7c802d9d-8"})(sl(),(0,p.bVO)("100-16-bold"),p.O9T.GRAY_800),s_=a().div.withConfig({componentId:"sc-7c802d9d-9"})(ss());function sb(){let n=(0,r._)(["\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  padding-bottom: 100px;\n"]);return sb=function(){return n},n}function sj(){let n=(0,r._)(["\n  width: 100%;\n  background: black;\n  height: 265px;\n  flex-direction: column;\n\n  align-items: center;\n  justify-content: center;\n"]);return sj=function(){return n},n}function sv(){let n=(0,r._)(["\n  position: fixed;\n  top: 96px;\n  left: 220px;\n"]);return sv=function(){return n},n}function sC(){let n=(0,r._)(["\n  flex-direction: column;\n  gap: 15px;\n"]);return sC=function(){return n},n}function sI(){let n=(0,r._)(["\n  ","\n"]);return sI=function(){return n},n}function sk(){let n=(0,r._)(["\n  margin-top: 57px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  width: 916px;\n  gap: 8px;\n\n  @media (max-width: 767px) {\n    margin-top: 20px;\n    width: 100%;\n    padding: 20px;\n    gap: 16px;\n  }\n"]);return sk=function(){return n},n}function sy(n){let{chats:e,totalCount:t,challenge:i}=n,[r,l]=c.useState(0),[s,d]=c.useState(!1),[a,h]=c.useState(null),x=(0,nl.useRouter)(),f=!(0,u.T7u)(),g=c.useMemo(()=>Math.floor((t-1)/20),[t]);if(c.useEffect(()=>{if(!e||!i)return;let n=()=>{let{scrollHeight:n}=document.body,e=window.scrollY+window.innerHeight;d(n-e<1)};return window.addEventListener("scroll",n),window.addEventListener("touchmove",n),()=>{window.removeEventListener("scroll",n),window.addEventListener("touchmove",n)}},[]),c.useEffect(()=>{e&&i&&s&&g>r&&((0,u.hcy)(i._id,r+1).then(n=>{let{chats:e}=n;a?h([...a,...e]):h(e)}),l(r+1))},[s]),!e||!i)return null;let m=()=>{window.history.length>1?x.back():x.push("/share")};return(0,o.jsxs)(sA,{children:[(0,o.jsxs)(sR,{children:[f&&(0,o.jsx)(sO,{children:(0,o.jsx)(lH,{onClick:m,label:"목록 보기",labelColor:p.O9T.GRAY_400,children:(0,o.jsx)(p.JO$,{icon:"arrow-left",size:20})})}),(0,o.jsxs)(sT,{children:[(0,o.jsx)("div",{children:(0,o.jsx)(p.fH0,{})}),(0,o.jsx)(sY,{children:i.title})]})]}),(0,o.jsxs)(sE,{children:[e.map(n=>(0,o.jsx)(nh,{image:n},n._id)),a&&a.map(n=>(0,o.jsx)(nh,{image:n},n._id))]})]})}let sA=a()(p.A09).withConfig({componentId:"sc-320eb561-0"})(sb()),sR=a()(p.A09).withConfig({componentId:"sc-320eb561-1"})(sj()),sO=a()(p.A09).withConfig({componentId:"sc-320eb561-2"})(sv()),sT=a()(p.A09).withConfig({componentId:"sc-320eb561-3"})(sC()),sY=a().label.withConfig({componentId:"sc-320eb561-4"})(sI(),(0,p.f3b)({weight:700,size:"20px",color:p.O9T.WHITE})),sE=a().div.withConfig({componentId:"sc-320eb561-5"})(sk());function sP(){let n=(0,r._)(["\n            cursor: pointer;\n          "]);return sP=function(){return n},n}function sG(){let n=(0,r._)(["\n        gap: 16px;\n      "]);return sG=function(){return n},n}function sS(){let n=(0,r._)(["\n            cursor: pointer;\n          "]);return sS=function(){return n},n}function sz(){let n=(0,r._)(["\n          cursor: pointer;\n          gap: 12px;\n        "]);return sz=function(){return n},n}function sU(){let n=(0,r._)(["\n        gap: 8px;\n      "]);return sU=function(){return n},n}function sL(){let n=(0,r._)(["\n      @media (max-width: 1279px) {\n        padding: 12px 13px;\n        height: 56px;\n        position: sticky;\n        top: 0;\n        background-color: ",";\n        border-bottom: 1px solid ",";\n        display: flex;\n        z-index: 90;\n      }\n    "]);return sL=function(){return n},n}function sM(){let n=(0,r._)(["\n            ",";\n          "]);return sM=function(){return n},n}function sD(){let n=(0,r._)(["\n              ",";\n            "]);return sD=function(){return n},n}let sB=n=>{let{onClickBookmark:e,isBookmark:t,copyLink:i,onClickBackButton:r}=n;return(0,o.jsxs)(sF,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",display:"none",children:[(0,o.jsxs)(sZ,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,o.jsx)(f(),{href:"/share",children:(0,o.jsx)(sH,{width:"34px",height:"32px",display:"flex",justifyContent:"center",alignItems:"center",onClick:r,children:(0,o.jsx)(p.pks,{})})}),(0,o.jsxs)(nv.xu,{margin:"15px 0px",children:[(0,o.jsx)(s$,{marginRight:"5px",color:p.O9T.GRAY_700,children:"공유"}),(0,o.jsx)(f(),{href:"/share",children:(0,o.jsx)(sN,{backgroundColor:p.O9T.PURPLE_500_PRIMARY,padding:"4px 12px",borderRadius:"20px 20px 0px 20px",color:p.O9T.WHITE,children:"#트렌드"})})]})]}),(0,o.jsx)(sJ,{display:"flex",flexDirection:"row",alignItems:"center",children:(0,o.jsxs)(sW,{display:"flex",onClick:n=>e(n),justifyContent:"center",alignItems:"center",children:[t?(0,o.jsx)(p.UH6,{}):(0,o.jsx)(p.JO$,{icon:"bookmark-full",size:22,color:p.O9T.GRAY_700}),(0,o.jsx)(sV,{display:"flex",onClick:n=>i(n),justifyContent:"center",children:(0,o.jsx)(p.JO$,{icon:"link",size:22,color:p.O9T.GRAY_700})})]})})]})};var sH=a()(nv.xu).withConfig({componentId:"sc-d60f22cb-0"})(sP()),sZ=a()(nv.xu).withConfig({componentId:"sc-d60f22cb-1"})(sG()),sV=a()(nv.xu).withConfig({componentId:"sc-d60f22cb-2"})(sS()),sW=a()(nv.xu).withConfig({componentId:"sc-d60f22cb-3"})(sz()),sJ=a()(nv.xu).withConfig({componentId:"sc-d60f22cb-4"})(sU()),sF=a()(nv.xu).withConfig({componentId:"sc-d60f22cb-5"})(sL(),p.O9T.WHITE,p.O9T.GRAY_200),s$=a()(nv.Dr).withConfig({componentId:"sc-d60f22cb-6"})(sM(),(0,p.bVO)("100-15-bold")),sN=a()(nv.Dr).withConfig({componentId:"sc-d60f22cb-7"})(sD(),(0,p.bVO)("100-15-bold"));function sX(){let n=(0,r._)(["\n  flex-direction: row;\n  justify-content: center;\n  align-items: flex-start;\n  padding-right: 10%;\n  padding-left: 10%;\n  width: 100%;\n\n  @media (max-width: 1279px) {\n    padding-right: 20px;\n    padding-left: 20px;\n    margin-top: 0px;\n  }\n"]);return sX=function(){return n},n}function sK(){let n=(0,r._)(["\n  position: fixed;\n  z-index: 10;\n  margin-top: 30px;\n  left: calc(50% - 460px);\n\n  @media (max-width: 1279px) {\n    display: none;\n  }\n"]);return sK=function(){return n},n}function sq(){let n=(0,r._)(["\n  margin-top: 30px;\n  position: fixed;\n  z-index: 10;\n  right: calc(50% - 460px);\n\n  flex-direction: column;\n  gap: 15px;\n\n  @media (max-width: 1279px) {\n    display: none;\n  }\n"]);return sq=function(){return n},n}function sQ(){let n=(0,r._)(["\n  flex-direction: column;\n  gap: 10px;\n\n  > span {\n    ","\n  }\n  color: ",";\n"]);return sQ=function(){return n},n}function s0(){let n=(0,r._)(["\n  width: 100%;\n  height: 1px;\n"]);return s0=function(){return n},n}function s1(){let n=(0,r._)(["\n  width: 20px;\n  height: 20px;\n"]);return s1=function(){return n},n}function s2(){let n=(0,r._)(["\n                  ",";\n                "]);return s2=function(){return n},n}function s9(){let n=(0,r._)(["\n                  ",";\n                "]);return s9=function(){return n},n}function s5(){let n=(0,r._)(["\n                    gap: 8px;\n                  "]);return s5=function(){return n},n}function s8(){let n=(0,r._)(["\n                  gap: 8px;\n                "]);return s8=function(){return n},n}function s4(){let n=(0,r._)(["\n          gap: 32px;\n          @media (max-width: 767px) {\n            padding: 16px 0px 24px;\n          }\n        "]);return s4=function(){return n},n}function s6(){let n=(0,r._)(["\n                      ",";\n                    "]);return s6=function(){return n},n}function s7(){let n=(0,r._)(["\n              ",";\n            "]);return s7=function(){return n},n}function s3(){let n=(0,r._)(["\n              ",";\n            "]);return s3=function(){return n},n}let dn=n=>{var e,t,i,r;let{post:l,ogImage:s}=n,d=(0,nl.useRouter)(),a=(0,u.dD4)(),{handleClickBookmark:h,isBookmark:x,bookmarkCount:f}=(0,g.BW)({post:l}),{handleClickCopyLink:m,copyInfoMessage:w,closeCopyInfoMessage:_}=(0,g.yU)({post:l}),b=l.viewCount,{collectEvent:j}=(0,u.zX9)();c.useEffect(()=>{j("view_wrtn_post_page",{post_id:l.postUUID,post_title:l.title,post_type:"blog"})},[]);let v=()=>{window.history.length>1?d.back():d.push("/share")},C=()=>{j("click_wrtn_post_chat_btn",{post_id:l.postUUID,post_title:l.title,post_type:"blog"}),d.push("/")};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(eX(),{children:[(0,o.jsx)("title",{children:"".concat(cq(l.title,50)," - 뤼튼")}),(0,o.jsx)("meta",{charSet:"utf-8"}),(0,o.jsx)("meta",{name:"description",content:null!==(t=null==l?void 0:null===(e=l.markdownContent)||void 0===e?void 0:e.slice(0,100))&&void 0!==t?t:""}),(0,o.jsx)("meta",{property:"og:title",content:"".concat(cq(l.title,50)," - 뤼튼")}),(0,o.jsx)("meta",{property:"og:description",content:cq(null!==(i=null==l?void 0:l.markdownContent)&&void 0!==i?i:"",50)}),(0,o.jsx)("meta",{property:"og:type",content:"website"}),(0,o.jsx)("meta",{property:"og:url",content:"".concat("https://wrtn.ai","/share/posts/").concat(l.postUUID)}),(0,o.jsx)("meta",{property:"og:image",content:s}),(0,o.jsx)("meta",{property:"og:locale",content:"ko_KR"})]}),(0,o.jsx)(dc,{id:"TopDiv"}),(0,o.jsx)(sB,{onClickBookmark:h,isBookmark:x,copyLink:m,onClickBackButton:v}),(0,o.jsxs)(de,{children:[(0,o.jsx)(dt,{children:(0,o.jsx)(lH,{onClick:v,label:"목록 보기",children:(0,o.jsx)(p.JO$,{icon:"arrow-left",size:20})})}),(0,o.jsx)(nv.xu,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",children:(0,o.jsxs)(nv.xu,{display:"flex",flexDirection:"column",width:"100%",maxWidth:"600px",borderBottom:"1px solid ".concat(p.O9T.GRAY_100),children:[(0,o.jsxs)(nv.xu,{padding:"32px 0px",marginBottom:"24px",borderBottom:"1px solid ".concat(p.O9T.GRAY_100),width:"100%",children:[(0,o.jsx)(ds,{marginBottom:"16px",color:p.O9T.GRAY_400,children:(0,u.knm)(l.createdAt)}),(0,o.jsx)(dd,{marginBottom:16,color:p.O9T.GRAY_800,children:l.title}),(0,o.jsx)(du,{display:"flex",flexDirection:"row",children:(0,o.jsxs)(da,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,o.jsx)(dl,{}),(0,o.jsxs)(dh,{color:p.O9T.GRAY_800,children:["Wrtn"," "]})]})})]}),(0,o.jsx)(nv.xu,{marginBottom:"32px",children:(0,o.jsx)(p.fXZ.Wrapper,{text:null!==(r=null==l?void 0:l.markdownContent)&&void 0!==r?r:""})})]})}),a||(0,o.jsxs)(di,{children:[(0,o.jsx)(lN,{onClick:h,isClicked:x,count:f}),(0,o.jsx)(lW,{copyLink:m}),(0,o.jsx)(lF,{view:b})]}),(0,o.jsx)(lQ,{isOpen:w,onCloseModal:_,showCloseIcon:!1,children:(0,o.jsxs)(dr,{children:[(0,o.jsx)(p.JO$,{icon:"link",size:20}),(0,o.jsx)("span",{children:"링크가 복사되었습니다."})]})})]}),(0,o.jsxs)(dp,{zIndex:1,padding:"0px 0px 72px",background:"linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #fff 13.03%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",margin:"48px 48px 72px 48px",children:[(0,o.jsx)(nv.xu,{children:(0,o.jsx)(dx,{color:p.O9T.GRAY_800,children:"뤼튼과 자유롭게 대화해보세요!"})}),(0,o.jsx)(nv.zx,{onClick:C,background:p.O9T.PURPLE_500_PRIMARY,borderRadius:"5px",padding:"13px 24px",children:(0,o.jsx)(df,{color:p.O9T.WHITE,children:"채팅 시작하기"})})]})]})},de=a()(p.A09).withConfig({componentId:"sc-5cad8558-0"})(sX()),dt=a()(p.A09).withConfig({componentId:"sc-5cad8558-1"})(sK()),di=a()(p.A09).withConfig({componentId:"sc-5cad8558-2"})(sq()),dr=a()(p.A09).withConfig({componentId:"sc-5cad8558-3"})(sQ(),(0,p.bVO)("100-16-bold"),p.O9T.GRAY_800),dc=a().div.withConfig({componentId:"sc-5cad8558-4"})(s0()),dl=a()(p.MsG).withConfig({componentId:"sc-5cad8558-5"})(s1());var ds=a()(nv.xu).withConfig({componentId:"sc-5cad8558-6"})(s2(),(0,p.bVO)("100-13-med")),dd=a()(nv.xu).withConfig({componentId:"sc-5cad8558-7"})(s9(),(0,p.bVO)("160-24-semi")),da=a()(nv.xu).withConfig({componentId:"sc-5cad8558-8"})(s5()),du=a()(nv.xu).withConfig({componentId:"sc-5cad8558-9"})(s8()),dp=a()(nv.xu).withConfig({componentId:"sc-5cad8558-10"})(s4()),dh=a()(nv.Dr).withConfig({componentId:"sc-5cad8558-11"})(s6(),(0,p.bVO)("100-16-semi")),dx=a()(nv.Dr).withConfig({componentId:"sc-5cad8558-12"})(s7(),(0,p.bVO)("100-20-semi")),df=a()(nv.Dr).withConfig({componentId:"sc-5cad8558-13"})(s3(),(0,p.bVO)("100-16-semi"));function dg(){let n=(0,r._)(["\n            @media (max-width: 1279px) {\n              display: none;\n            }\n          "]);return dg=function(){return n},n}function dm(){let n=(0,r._)(["\n              ",";\n              @media (max-width: 767px) {\n                width: 100%;\n              }\n            "]);return dm=function(){return n},n}function dw(){let n=(0,r._)(["\n            gap: 20px;\n            @media (max-width: 767px) {\n              margin: 0 0 160px 0;\n            }\n          "]);return dw=function(){return n},n}function d_(){let n=(0,r._)(["\n            gap: 15px;\n            @media (max-width: 1279px) {\n              display: none;\n            }\n          "]);return d_=function(){return n},n}function db(){let n=(0,r._)(["\n          @media (max-width: 1279px) {\n            padding: 0px 20px;\n            margin-top: 0px;\n          }\n        "]);return db=function(){return n},n}let dj=()=>{let n=(0,nl.useRouter)(),e=()=>{window.history.length>1?n.back():n.push("/share")};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lP,{onClickBackButton:e}),(0,o.jsxs)(dy,{display:"flex",marginBottom:"50px",justifyContent:"center",alignItems:"flex-start",padding:"0px 10%",width:"100%",children:[(0,o.jsx)(dv,{position:"fixed",zIndex:10,marginTop:"30px",left:"calc(50% - 460px)",children:(0,o.jsx)(lH,{onClick:e,label:"목록 보기",children:(0,o.jsx)(p.JO$,{icon:"arrow-left",size:20})})}),(0,o.jsx)(dI,{display:"flex",flexDirection:"column",width:"100%",margin:"0 30px 200px 30px",children:(0,o.jsx)(dC,{width:"100%",textAlign:"center",paddingTop:"20px",color:p.O9T.GRAY_700,children:n.isFallback?(0,o.jsx)(p.$jN,{width:22,height:22,color:p.O9T.PURPLE_500_PRIMARY}):"포스팅을 찾을 수 없습니다"})}),(0,o.jsx)(dk,{marginTop:"30px",position:"fixed",zIndex:10,right:"calc(50% - 460px)",flexDirection:"column",children:(0,o.jsx)(lH,{children:(0,o.jsx)(p.JO$,{icon:"link",size:20})})})]})]})};var dv=a()(nv.xu).withConfig({componentId:"sc-71a014b9-0"})(dg()),dC=a()(nv.xu).withConfig({componentId:"sc-71a014b9-1"})(dm(),(0,p.bVO)("100-16-med")),dI=a()(nv.xu).withConfig({componentId:"sc-71a014b9-2"})(dw()),dk=a()(nv.xu).withConfig({componentId:"sc-71a014b9-3"})(d_()),dy=a()(nv.xu).withConfig({componentId:"sc-71a014b9-4"})(db())},50948:function(n,e,t){"use strict";t.d(e,{vp:function(){return x},qy:function(){return h},Bz:function(){return f},kZ:function(){return g},pt:function(){return _},JZ:function(){return w},C3:function(){return b}});var i=t(49258);let r=async(n,e)=>i.ApiInstance.BE2.get("/posts",{...e,params:n.params}).then(n=>n).catch(n=>(null==n?void 0:n.response)||n),o=async(n,e,t)=>{let r="/posts/post/".concat(n.postUUID,"/add-view");return i.ApiInstance.BE2.put(r,e,t).then(n=>n).catch(n=>(null==n?void 0:n.response)||n)},c=async(n,e)=>{let t="/posts/post/".concat(n.postUUID);return i.ApiInstance.BE2.get(t,e).then(n=>n).catch(n=>(null==n?void 0:n.response)||n)},l=async(n,e,t)=>{let r="/posts/post/".concat(n.postUUID,"/scraps");return i.ApiInstance.BE2.post(r,e,t).then(n=>n).catch(n=>(null==n?void 0:n.response)||n)},s=async(n,e)=>{let t="/posts/post/".concat(n.postUUID,"/scraps");return i.ApiInstance.BE2.delete(t,e).then(n=>n).catch(n=>(null==n?void 0:n.response)||n)},d=async(n,e)=>i.ApiInstance.BE2.get("/posts/my-scraps",e).then(n=>n).catch(n=>(null==n?void 0:n.response)||n),a=async(n,e)=>i.ApiInstance.BE2.get("/posts/my-scraps/post-ids",e).then(n=>n).catch(n=>(null==n?void 0:n.response)||n);var u=t(49069),p=t(49440);let h=()=>(0,u.ZP)("/posts",async()=>{let n=await r({params:{isPublic:!0}});return n.data.data},{errorRetryCount:0,fallbackData:[]}),x=n=>{let{postUUID:e}=n;return(0,u.ZP)(e&&"/posts/post/".concat(e),async()=>{let n=await c({postUUID:e});return n.data.data})},f=()=>{let{data:n}=(0,p.pgb)();return(0,u.ZP)(n?"/posts/my-scraps":null,async()=>{let n=await d();return n.data.data},{errorRetryCount:0,fallbackData:[]})},g=()=>{let{data:n}=(0,p.pgb)();return(0,u.ZP)(n?"/posts/my-scraps/posts-id":null,async()=>{let n=await a({});return n.data.data},{errorRetryCount:0})};var m=t(66379);let w=()=>(0,m.Z)("/posts/post/:postUUID/scraps",async(n,e)=>{let{arg:t}=e;return l({postUUID:t.postUUID})}),_=()=>(0,m.Z)("/posts/post/:postUUID/scraps",async(n,e)=>{let{arg:t}=e;return s({postUUID:t.postUUID})}),b=n=>{let{postUUID:e}=n;return(0,m.Z)("/posts/post/".concat(e,"/add-view"),async()=>o({postUUID:e}))}},93452:function(){}}]);